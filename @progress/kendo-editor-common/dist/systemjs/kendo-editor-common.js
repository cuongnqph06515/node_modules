System.register("@progress/kendo-editor-common",["tslib","prosemirror-commands","prosemirror-dropcursor","prosemirror-gapcursor","prosemirror-history","prosemirror-inputrules","prosemirror-keymap","prosemirror-model","prosemirror-schema-list","prosemirror-state","prosemirror-tables","prosemirror-transform","prosemirror-view"],function(S){var s,o,i,l,u,c,d,f,p,m,g,v,y;function t(e){return e.__useDefault?e.default:e}return{setters:[function(e){s=t(e)},function(e){o=t(e)},function(e){i=t(e)},function(e){l=t(e)},function(e){u=t(e)},function(e){c=t(e)},function(e){d=t(e)},function(e){f=t(e)},function(e){p=t(e)},function(e){m=t(e)},function(e){g=t(e)},function(e){v=t(e)},function(e){y=t(e)}],execute:function(){function r(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var n,a;a={},r.m=n=[function(e,t){e.exports=m},function(e,t){e.exports=s},function(e,t){e.exports=f},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t(2),a=t(0),v=t(5),y=t(6),i=t(17);r.changeStyles=function(e,t){var n=t.style,r=t.value,a=t.newValue,s=[];if(e){var o=e.split(/\s*;\s*/).filter(function(e){return e}),i=o.filter(function(e){if(!e.toLowerCase().trim().startsWith(n))return!0;var t=e.split(":")[1].trim();return!r.test(t)||(s.push(t),!1)});return a&&i.push(n+": "+a),{style:i.join("; ")+(i.length?";":""),changed:!!a||i.length!==o.length,styleMatches:s}}return{changed:!1,styleMatches:s,style:null}},r.changeStyle=function(m,g){return function(e,t,n){var r=e.selection,a=r.empty,s=r.$cursor,o=r.ranges;if(a&&!s||!v.markApplies(e.doc,o,m))return!1;var i=!1;if(t)if(n=n||e.tr,s){var l,u=e.storedMarks||s.marks();m.isInSet(u)&&(l=y.changeStyleFromMark(u,g),t(n.removeStoredMark(m)),t(n.addStoredMark(m.create({style:l.style}))),i=!0)}else{for(var c=0;c<o.length;c++)var d=o[c],f=d.$from,p=d.$to,i=y.changeStyleMark(n,f.pos,p.pos,g,m);i&&(n.scrollIntoView(),t(n))}return i}},r.canInsert=function(e,t){for(var n=e.selection.$from,r=n.depth;0<=r;r--){var a=n.index(r);if(n.node(r).canReplaceWith(a,a,t))return!0}return!1},r.getTypeName=function(e){return e instanceof o.Node?e.type.name:e.name},r.findParentNode=function(a){return function(e){for(var t=e.$from,n=t.depth;0<n;n--){var r=t.node(n);if(a(r))return{depth:n,node:r}}}},r.findNthParentNode=function(a,s){return void 0===s&&(s=1),function(e){for(var t=e.$from,n=t.depth;0<n;n--){var r=t.node(n);if(a(r)&&0==--s)return{depth:n,node:r}}}},r.findNthParentNodeOfType=function(t,n){return void 0===n&&(n=1),function(e){return r.findNthParentNode(function(e){return r.getTypeName(e)===r.getTypeName(t)},n)(e)}},r.insertNode=function(r,a){return function(e,t){var n=e.tr.replaceSelectionWith(r);a&&n.scrollIntoView(),t(n)}},r.hasSameMarkup=function(e,t,n,r){var a=o.Fragment.from(i.parseContent(e,n,r)),s=o.Fragment.from(i.parseContent(t,n,r));return a.eq(s)},r.first=function(e){return e[0]},r.last=function(e){return e[e.length-1]},r.split=function(t){return function(e){return e.split(t)}},r.trim=function(e){return e.trim()},r.filter=function(t){return function(e){return e.filter(t)}},r.getUniqueStyleValues=function(e,t){if(e.hasNodesWithoutMarks)return"";var n=e.marks.filter(function(e){return"style"===e.type.name}).map(function(e){return e.attrs.style}).map(r.split(";")).map(r.filter(function(e){return e.includes(t)})).map(function(e){return 0!==e.length?e:[t+": INVALID"]}).map(r.first).map(r.split(":")).map(r.last).map(r.trim).reduce(function(e,t){return-1<e.indexOf(t)?e:e.concat([t])},[]);return-1<n.indexOf("INVALID")||1!==n.length?"":n[0]},r.getSelectionText=function(e){var t=e.selection;if(t instanceof a.TextSelection||t instanceof a.AllSelection){var n=t.content().content;return n.textBetween(0,n.size)}return""},r.getNodeFromSelection=function(e){if(e.selection instanceof a.NodeSelection)return e.selection.node},r.indentHtml=function(e){return e.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}},function(e,t){e.exports=v},function(e,g,t){"use strict";Object.defineProperty(g,"__esModule",{value:!0});var n=t(4),v=t(2),o=t(0),m=t(6);g.markApplies=function(s,o,i){for(var e=0;e<o.length;e++){var t=function(e){var t=o[e],n=t.$from,r=t.$to,a=0===n.depth&&s.type.allowsMarkType(i);if(s.nodesBetween(n.pos,r.pos,function(e){return!a&&void(a=e.inlineContent&&e.type.allowsMarkType(i))}),a)return{v:!0}}(e);if(t)return t.v}return!1},g.toggleMark=function(f,p,m){return function(e,t){var n=e.selection,r=n.empty,a=n.$cursor,s=n.ranges;if(r&&!a||!g.markApplies(e.doc,s,f))return!1;if(t)if(a)f.isInSet(e.storedMarks||a.marks())?t(m.removeStoredMark(f)):t(m.addStoredMark(f.create(p)));else{for(var o=!1,i=0;!o&&i<s.length;i++)var l=s[i],u=l.$from,c=l.$to,o=e.doc.rangeHasMark(u.pos,c.pos,f);for(i=0;i<s.length;i++){var d=s[i],u=d.$from,c=d.$to;o?m.removeMark(u.pos,c.pos,f):m.addMark(u.pos,c.pos,f.create(p))}t(m.scrollIntoView())}return!0}},g.removeMark=function(t,c,d,f){void 0===f&&(f=null);var p=[],m=0;return t.doc.nodesBetween(c,d,function(e,t){if(e.isInline){m++;var n,r=null;if(f instanceof v.MarkType?(n=f.isInSet(e.marks))&&(r=[n]):f?f.isInSet(e.marks)&&(r=[f]):r=e.marks,r&&r.length)for(var a=Math.min(t+e.nodeSize,d),s=0;s<r.length;s++){for(var o=r[s],i=void 0,l=0;l<p.length;l++){var u=p[l];u.step===m-1&&o.eq(u.style)&&(i=u)}i?(i.to=a,i.step=m):p.push({style:o,from:Math.max(t,c),to:a,step:m})}}}),p.forEach(function(e){return t.step(new n.RemoveMarkStep(e.from,e.to,e.style))}),t},g.removeMarks=function(a,t,n,s){var e=t.selection,r=e.$cursor,o=e.ranges;if(s=s||t.tr,r)a.forEach(function(e){e.isInSet(t.storedMarks||r.marks())&&n(s.removeStoredMark(e))});else{for(var i=0;i<o.length;i++)!function(e){var t=o[e],n=t.$from,r=t.$to;a.forEach(function(e){g.removeMark(s,n.pos,r.pos,e)})}(i);n(s.scrollIntoView())}return!0},g.removeAllMarks=function(e){var t=(void 0===e?{}:e).except,u=void 0===t?[]:t;return function(e,t){var r,n=e.schema,a=e.selection,s=a.empty,o=a.ranges,i=e.tr,l=(u instanceof Array?u:[u]).map(function(e){return e.name});s||(r=Object.keys(n.marks).map(function(e){return n.marks[e]}).filter(function(e){return-1===l.indexOf(e.name)}),o.forEach(function(e){var t=e.$from,n=e.$to;r.forEach(function(e){return i.removeMark(t.pos,n.pos,e)})}),t(i))}},g.getParentMark=function(e,t){var n=e.selection,r=n.from,a=n.$from,s=n.to,o=n.empty,i=e.doc;if(o)return t.isInSet(e.storedMarks||a.marks())||null;var l=[];return i.nodesBetween(r,s,function(e){e.isInline&&l.push(t.isInSet(e.marks))}),1===l.length&&l[0]?l[0]:null},g.hasMark=function(e,t){var n,r=e.schema.marks,a=(t.altMarks||[]).filter(function(e){return r[e]}),s=t.altStyle,o=e.selection,i=o.from,l=o.$from,u=o.to,c=o.empty,d=r[t.mark],f=e.doc,p=!1;return!(p=c?(n=e.storedMarks||l.marks(),d&&d.isInSet(n)||a.some(function(e){return r[e].isInSet(n)})):d&&f.rangeHasMark(i,u,d)||a.some(function(e){return f.rangeHasMark(i,u,r[e])}))&&s?m.hasStyle(e,s):Boolean(p)},g.getMark=function(e,t){var n,r,a=e.selection,s=a.from,o=a.$from,i=a.to,l=a.empty,u=e.doc;return l?n=t.isInSet(e.storedMarks||o.marks()):(r=[],u.nodesBetween(s,i,function(e){e.isInline&&r.push(t.isInSet(e.marks))}),r.some(function(e){return!e})||(n=r[r.length-1])),n},g.getActiveMarks=function(e,r){var t=e.selection,a=!1;if(t instanceof o.TextSelection&&t.$cursor)return{hasNodesWithoutMarks:a,marks:t.$cursor.marks().filter(function(e){return!r||e.type.name===r.name})};var s=[];return t.content().content.descendants(function(e){var t,n;"text"===e.type.name&&(t=r?(n=r,e.marks.filter(function(e){return e.type.name===n.name})):e.marks,0<e.marks.length&&0<t.length?s.push.apply(s,t):a=!0)}),{hasNodesWithoutMarks:a,marks:s}}},function(e,I,t){"use strict";Object.defineProperty(I,"__esModule",{value:!0});var L=t(1),x=t(4),v=t(3),h=t(5);I.changeStyleFromMark=function(e,t){var n=e.find(function(e){return"style"===e.type.name}),r=n&&n.attrs.style;return v.changeStyles(r,t)},I.changeStyleMark=function(t,g,v,y,h){var k=h.create({style:y.style}),M=[],b=[],_=null,S=null;return t.doc.nodesBetween(g,v,function(e,t,n){if(e.isInline){var r=e.marks;if(!k.isInSet(r)&&n.type.allowsMarkType(k.type)){var a=Math.max(t,g),s=Math.min(t+e.nodeSize,v),o=I.changeStyleFromMark(r,y);if(o.changed||y.newValue){for(var i=o.changed?{style:o.style||null}:{style:[y.style]+": "+y.newValue+";"},l=h.isInSet(r)?r.find(function(e){return"style"===e.type.name}):null,u=l?L.__assign({},l.attrs,i):i,c=h.create(u),d=c.addToSet(r),f=0;f<r.length;f++)r[f].isInSet(d)||(_&&_.to===a&&_.mark.eq(r[f])?_.to=s:(_=new x.RemoveMarkStep(a,s,r[f]),M.push(_)));var p=S&&S.to===a,m=p&&c.attrs.style===S.mark.attrs.style;p&&m?S.to=s:Object.keys(u).some(function(e){return null!==u[e]})&&(S=new x.AddMarkStep(a,s,c),b.push(S))}}}}),M.forEach(function(e){return t.step(e)}),b.forEach(function(e){return t.step(e)}),0<M.length+b.length},I.hasStyle=function(e,t){var n=e.selection,r=n.from,a=n.$from,s=n.to,o=n.empty,i=!1,l={style:t.name,value:t.value};return o?i=I.changeStyleFromMark(e.storedMarks||a.marks(),l).changed:e.doc.nodesBetween(r,s,function(e,t,n){!i&&e.isInline&&(i=I.changeStyleFromMark(e.marks,l).changed)}),i},I.getInlineStyles=function(e,t){var r,n=e.selection,a=n.from,s=n.$from,o=n.to,i=n.empty,l=[],u={style:t.name,value:t.value};return i?(r=I.changeStyleFromMark(e.storedMarks||s.marks(),u)).changed&&(l=r.styleMatches):e.doc.nodesBetween(a,o,function(e,t,n){e.isInline&&((r=I.changeStyleFromMark(e.marks,u)).changed?l.push.apply(l,r.styleMatches):l.push(null))}),l.filter(function(e){return null!==e})},I.changeStyle=function(v,y){return function(e,t,n){var r=e.selection,a=r.empty,s=r.$cursor,o=r.ranges;if(a&&!s||!h.markApplies(e.doc,o,v))return!1;var i=!1;if(t)if(n=n||e.tr,s){var l,u,c,d=e.storedMarks||s.marks();v.isInSet(d)&&(l=I.changeStyleFromMark(d,y),u=d.find(function(e){return"style"===e.type.name}),c=L.__assign({},u?u.attrs:{},{style:l.style||null}),t(n.removeStoredMark(v)),Object.keys(c).some(function(e){return null!==c[e]})&&t(n.addStoredMark(v.create(c))),i=!0)}else{for(var f=0;f<o.length;f++)var p=o[f],m=p.$from,g=p.$to,i=I.changeStyleMark(n,m.pos,g.pos,y,v);i&&(n.scrollIntoView(),t(n))}return i}},I.toggleInlineFormat=function(f,p,m){return function(t,e){var n=t.schema.marks,r=f.altStyle,a=f.altMarks,s=void 0===a?[]:a,o=f.mark;p=p||t.tr;function i(){return c=!0}var l,u=!1,c=!1;r&&n.style&&(l=n.style,u=I.changeStyle(l,{style:r.name,value:r.value})(t,i,p));var d=[o].concat(s).filter(function(e){return n[e]}).map(function(e){return h.hasMark(t,{mark:e})&&n[e]}).filter(function(e){return e});return d.length?h.removeMarks(d,t,i,p):u||h.toggleMark(n[o],m,p)(t,i),c&&e(p),c}},I.applyInlineStyle=function(m,g){return function(e,t){var n=e.schema.marks.style,r={style:m.style,value:/^.+$/,newValue:m.value},a=e.tr;g&&a.setMeta("commandName",g),a.setMeta("args",m);var s=e.selection,o=s.empty,i=s.$cursor,l=s.ranges;if(o&&!i||!h.markApplies(e.doc,l,n))return!1;if(i){var u,c=e.storedMarks||i.marks(),d=n.isInSet(c)?c.find(function(e){return"style"===e.type.name}):null,f={style:null};d&&d.attrs.style?(u=v.changeStyles(d.attrs.style,r)).changed&&u.style&&(f.style=u.style):r.newValue&&(f.style=[r.style]+": "+r.newValue+";");var p=d?L.__assign({},d.attrs,f):f;return Object.keys(p).some(function(e){return null!==p[e]})?t(a.addStoredMark(n.create(p))):t(a.removeStoredMark(n)),!0}return I.changeStyle(n,r)(e,t,a)}}},function(e,t){e.exports=o},function(e,t){e.exports=p},function(e,d,t){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var f=t(1),s=t(3),v=t(4),y=t(2),o=t(0);d.changeBlockNode=function(a,e,d,f,p,m){var t=a.selection,n=t.from,r=t.to,s=!1;if(a.doc.nodesBetween(n,r,function(e,t){return!s&&void(e.isTextblock&&!e.hasMarkup(p,m)&&(s=e.type===p||(r=(n=a.doc.resolve(t)).index(),n.parent.canReplaceWith(r,r+1,p))));var n,r}),!s)return!1;if(e){if(!p.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var g=d.steps.length;d.doc.nodesBetween(n,r,function(e,t){if(e.eq(f)&&e.isTextblock&&!e.hasMarkup(p,m)&&(o=d.doc,i=d.mapping.slice(g).map(t),l=p,u=o.resolve(i),c=u.index(),u.parent.canReplaceWith(c,c+1,l))){d.clearIncompatible(d.mapping.slice(g).map(t,1),p);var n=d.mapping.slice(g),r=n.map(t,1),a=n.map(t+e.nodeSize,1),s=new y.Slice(y.Fragment.from(p.create(m,null,e.marks)),0,0);return d.step(new v.ReplaceAroundStep(r,a,r+1,a-1,s,1,!0)),!1}var o,i,l,u,c})}return!0},d.blockNodes=function(e){var t=e.selection,n=t.from,r=t.to,a=t.$from,s=[];return t.node?t.node.isBlock?s.push(t.node):a.parent&&a.parent.isBlock&&s.push(a.parent):e.doc.nodesBetween(n,r,function(e){e.isBlock&&s.push(e)}),s},d.formatBlockElements=function(c,t){return function(s,o){var e=d.blockNodes(s),i=s.schema.nodes,l=!1,u=s.tr;return u.setMeta("commandName",t),u.setMeta("args",{value:c}),e.forEach(function(e){var t,n,r,a;e.type.isTextblock&&("p"===c?(r=(t=e.attrs).level,a=f.__rest(t,["level"]),l=d.changeBlockNode(s,o,u,e,i.paragraph,a)||l):/^h[1-6]$/i.test(c)?(r=parseInt(c.substr(1),10),l=d.changeBlockNode(s,o,u,e,i.heading,f.__assign({},e.attrs,{level:r}))||l):"blockquote"===c&&(r=(n=e.attrs).level,a=f.__rest(n,["level"]),l=d.changeBlockNode(s,o,u,e,i.blockquote,a)||l))}),l&&o(u.scrollIntoView()),l}},d.getBlockFormats=function(e){var t=d.blockNodes(e),n=e.schema.nodes,r=[];return t.forEach(function(e){if(e.type===n.paragraph)r.push("p");else if(e.type===n.heading)for(var t=1;t<=6;t++)if(e.attrs.level===t){r.push("h"+t);break}}),r},d.addStyles=function(e,t){var n,r,a=e.attrs.style;return a&&t.forEach(function(e){r={style:e.name,value:/^.+$/,newValue:e.value},n=s.changeStyles(a,r),a=n.changed?n.style:a}),a=a||t.reduce(function(e,t){return(e&&t.value?e+" ":"")+t.value?t.name+": "+t.value+";":""},""),Object.assign({},e.attrs,{style:a||null})},d.hasNode=function(e,t){var n=e.selection,r=n.from,a=n.to,s=!1;return e.doc.nodesBetween(r,a,function(e){return!(s=s||e.type===t)}),s};function i(n){return r=n,Object.keys(r).filter(function(e){return null!==n[t=e]&&void 0!==n[t]&&""!==n[t];var t}).reduce(function(e,t){var n;return Object.assign(e,((n={})[t]=r[t],n))},{});var r}d.getNodeTagName=function(n,r){var e,t=n.type.spec.parseDOM||[],a=n.attrs;return(e=1===t.length?t[0]:t.find(function(e){var t=y.DOMSerializer.fromSchema(r).serializeNode(n);return JSON.stringify(e.getAttrs(t))===JSON.stringify(i(a))}))?e.tag.toLowerCase().replace(/ *\[[^\]]*]/,""):""},d.activeNode=function(e){var t,n,r,a=e.schema.nodes.doc;return e.selection instanceof o.AllSelection?r=e.doc:e.selection instanceof o.TextSelection?(n=(t=e.selection.$anchor).node(t.blockRange().depth),r=s.getTypeName(n)===s.getTypeName(a)?t.node():n):e.selection instanceof o.NodeSelection&&(r=e.selection.node),{name:s.getTypeName(r),tag:d.getNodeTagName(r,e.schema)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function k(e){return/^MsoListParagraph/.test(e.className)}function M(e){var t=e.innerHTML;return(t=t.replace(/<!--(.|\s)*?-->/gi,"")).replace(/<\/?[^>]+?\/?>/gm,"")}function b(e,t){var n=document.createElement(e);return n.style.listStyleType=t,n}function _(e){function t(e){return e.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,"")}var n,r,a,s=(s=e.innerHTML).replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g," ");return/^[\u2022\u00b7\u00a7\u00d8oØüvn][\u00a0 ]+/.test(s)?{tag:"ul",style:(a=t(M(e)),/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(a)?null:/^o/.test(a)?"circle":"square")}:/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(s)?{tag:"ol",style:(n=t(M(e)),r=null,/^\d/.test(n)||(r=(/^[a-z]/.test(n)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(n)?"roman":"alpha")),r)}:void 0}var r=/style=['"]?[^'"]*?mso-list:\s*[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi,a=function(e,n){var r=[];Array.from(e).forEach(function(e){var t;e.nodeType===Node.ELEMENT_NODE&&((t=e).getAttribute("datalist")?(r.push(e),n.add(r)):k(t)&&r.length?r.push(e):(r=[],"DIV"===t.nodeName?a(t.children,n):"TABLE"===t.nodeName&&Array.from(t.querySelectorAll("td,th")).forEach(function(e){a(e.children,n)})))})};t.convertMsLists=function(e){var t=document.createElement("div");t.innerHTML=e.replace(r,function(e,t,n){return'datalist="'+t+'" datalevel="'+n+'" '+e});var n=new Set;return a(t.children,n),n.forEach(function(e){for(var t,n,r,a,s,o,i,l,u,c,d,f=-1,p={},m=0;m<e.length;m++){var g,v,y=(d={datalist:(l=e[m]).getAttribute("datalist"),datalevel:l.getAttribute("datalevel")}).datalist,h=_(l);(u=h&&h.tag)?(v=d.datalevel||parseFloat(l.style.marginLeft||0),(d.datalevel||l.style.marginLeft)&&(g=u+y,p[v]||(p[v]={}),(!n||n<0)&&(n=v,r=y,a=(i=e.filter(function(e){return e.getAttribute("datalist")===String(r)}))[i.length-1],o=b(u,h&&h.style),l.parentNode.insertBefore(o,l),p[f=v][g]=o),s=a===l,c=p[v][g],(f<v||!c)&&(c=b(u,h&&h.style),p[v][g]=c,t.appendChild(c)),t=function(e){var t,n=e.nodeName.toLowerCase();e.firstChild&&e.firstChild.nodeType===Node.COMMENT_NODE&&e.removeChild(e.firstChild),t=1===e.childNodes.length?e.firstChild.nodeType===Node.TEXT_NODE?M(e):e.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,""):(e.removeChild(e.firstChild),3===e.firstChild.nodeType&&/^[ivxlcdm]+\.$/i.test(e.firstChild.nodeValue)&&e.removeChild(e.firstChild),/^(&nbsp;|\s)+$/i.test(e.firstChild.innerHTML)&&e.removeChild(e.firstChild),"p"!==n?"<"+n+">"+e.innerHTML+"</"+n+">":e.innerHTML),e.parentNode.removeChild(e);var r=document.createElement("li");return r.innerHTML=t,r}(l),c.appendChild(t),s?n=f=-1:f=v)):!t||s&&!k(l)||(l.style.marginLeft&&(l.style.marginLeft=""),l.style.marginLeft&&(l.style.margin=""),t.appendChild(l))}}),t.innerHTML}},function(e,t){e.exports=c},function(e,t){e.exports=u},function(e,t){e.exports=g},function(e,g,t){"use strict";Object.defineProperty(g,"__esModule",{value:!0});var r=t(1),f=t(2),p=t(0),m=t(4),a=t(7),s=t(8),o=t(15);function v(e,t,n){var r=e.selection,a=r.from,s=r.to,o=e.schema.nodes,i=o.paragraph,l=o.heading,u=[];t.doc.nodesBetween(a,s,function(e,t){e.type!==i&&e.type!==l||u.push({node:e,pos:t})});for(var c=u.length-1;0<=c;c--){var d,f,p=u[c],m=t.doc.resolve(t.mapping.map(p.pos));0<m.depth&&(d=void 0,d=p.node.textContent&&0<p.node.textContent.length?t.doc.resolve(t.mapping.map(p.pos+p.node.textContent.length)):t.doc.resolve(t.mapping.map(p.pos+1)),(f=m.blockRange(d))&&t.lift(f,g.getListLiftTarget(e.schema,m,n)))}return t}function y(c){return function(e,t,n){if(!n)return!1;var r=(e=n.state).schema.nodes[c.listType],a=e.selection,s=a.$from,o=a.$to,i=s.node(-2),l=s.node(-3),u=d(e.doc,s,o,r);return(i&&i.type===r||l&&l.type===r)&&u?k(c)(e,t):(u||(k(c)(e,t),e=n.state),M(r)(e,t))}}function h(o,i,e,l,u,c){c=c||o.schema.nodes.listItem;var d=!1;return u.doc.nodesBetween(i,e,function(e,t){if(!d&&e.type===c&&i<t){d=!0;for(var n=l+3;l+2<n;){var r=u.doc.resolve(u.mapping.map(t)),n=r.depth,a=u.doc.resolve(u.mapping.map(t+e.textContent.length)),s=new p.TextSelection(r,a);u=function(e,t,n,r){r=r||e.schema.nodes.listItem;var a=t.$from,s=t.$to,o=a.blockRange(s,function(e){return e.childCount&&e.firstChild.type===r});if(!o||o.depth<2||a.node(o.depth-1).type!==r)return n;var i=o.end,l=s.end(o.depth);return i<l&&(n.step(new m.ReplaceAroundStep(i-1,l,i,l,new f.Slice(f.Fragment.from(r.create(void 0,o.parent.copy())),1,0),1,!0)),o=new f.NodeRange(n.doc.resolve(a.pos),n.doc.resolve(l),o.depth)),n.lift(o,m.liftTarget(o)).scrollIntoView()}(o,s,u,c)}}}),u}function d(e,t,n,r){return 0===i(e,t,n).filter(function(e){return e.type!==r}).length}function i(e,t,n){for(var r=Array(),a=u(e,t).depth,s=e.resolve(t.start(a));s.pos<=n.start(n.depth);){var o=Math.min(s.depth,a),i=s.node(o);if(i&&r.push(i),0===o)break;var l=e.resolve(s.after(o));if(l.start(o)>=e.nodeSize-2)break;l.depth!==s.depth&&(l=e.resolve(l.pos+2)),s=l.depth?e.resolve(l.start(l.depth)):e.resolve(l.end(l.depth))}return r}function u(e,t){var n=["blockquote","bulletList","orderedList"];if(1===t.depth)return t;for(var r=t.node(t.depth),a=t;1<=t.depth;)(r=(t=e.resolve(t.before(t.depth))).node(t.depth))&&-1!==n.indexOf(r.type.name)&&(a=t);return a}function k(i){return function(s,e){var o=s.tr,t=s.selection,n=t.$from,r=t.$to;return o.doc.nodesBetween(n.pos,r.pos,function(e,t){if(e.isTextblock||"blockquote"===e.type.name||"div"===e.type.name){var n=new p.NodeSelection(o.doc.resolve(o.mapping.map(t))),r=n.$from.blockRange(n.$to);if(!r||n.$from.parent.type!==s.schema.nodes[i.listItem])return!1;var a=r&&m.liftTarget(r);if(null==a)return!1;o.lift(r,a)}}),e&&e(o),!0}}function M(n){return a.autoJoin(s.wrapInList(n),function(e,t){return e.type===t.type&&e.type===n})}g.rootListDepth=function(e,t){for(var n,r=t.bulletList,a=t.orderedList,s=t.listItem,o=e.depth-1;0<o;o--){var i=e.node(o);if(i.type!==r&&i.type!==a||(n=o),i.type!==r&&i.type!==a&&i.type!==s)break}return n},g.getListLiftTarget=function(e,t,n){for(var r=t.depth,a=e.nodes[n.bulletList],s=e.nodes[n.orderedList],o=e.nodes[n.listItem],i=t.depth;0<i;i--){var l=t.node(i);if(l.type!==a&&l.type!==s||(r=i),l.type!==a&&l.type!==s&&l.type!==o)break}return r-1},g.liftSelectionList=v,g.toggleList=function(e,t,n,r,a){var s=r.listType,o=e.selection,i=o.$from.node(o.$from.depth-2),l=o.$to.node(o.$to.depth-2);if(i&&i.type.name===s&&l&&l.type.name===s){var u=n.state.schema.nodes,c={bulletList:u[r.bulletList],orderedList:u[r.orderedList],listItem:u[r.listItem]},d=g.rootListDepth(o.$to,c),f=h(e,o.$to.pos,o.$to.end(d),d,n.state.tr,c.listItem);return(f=v(e,f,r)).setMeta("commandName",a),t(f),!0}return y(r)(e,t,n)},g.toggleListCommand=y,g.liftFollowingList=h,g.isRangeOfType=d,g.getAncestorNodesBetween=i,g.findAncestorPosition=u,g.liftListItems=k,g.wrapInList=M,g.toggleUnorderedList=function(e,t,n){return g.toggleList(e,t,n,r.__assign({listType:o.bulletList.listType},o.bulletList.types))},g.toggleOrderedList=function(e,t,n){return g.toggleList(e,t,n,r.__assign({listType:o.orderedList.listType},o.orderedList.types))},g.splitListItemKeepMarks=function(e){return function(n,r){return s.splitListItem(e)(n,function(e){var t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();t&&e.ensureMarks(t),r(e)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.listsTypes={orderedList:"ordered_list",bulletList:"bullet_list",listItem:"list_item"},t.orderedList={listType:t.listsTypes.orderedList,types:r.__assign({},t.listsTypes)},t.bulletList={listType:t.listsTypes.bulletList,types:r.__assign({},t.listsTypes)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(15);t.indentRules={nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"}],listsTypes:r.__assign({},a.listsTypes)},t.outdentRules={nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"}],listsTypes:r.__assign({},a.listsTypes)}},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=t(2),i=t(0);s.parseContent=function(e,t,n){var r=e||"",a=document.createElement("template"),s="content"in a?(a.innerHTML=r,a.content):(new DOMParser).parseFromString(r,"text/html").body;return o.DOMParser.fromSchema(t).parse(s,n)},s.getHtml=function(e){var t=o.DOMSerializer.fromSchema(e.schema).serializeFragment(e.doc.content),n=document.createElement("div");return n.appendChild(t),n.innerHTML},s.setHtml=function(n,r,a){return void 0===r&&(r="setHTML"),void 0===a&&(a={preserveWhitespace:"full"}),function(e,t){return t(e.tr.setSelection(new i.AllSelection(e.doc)).replaceSelectionWith(s.parseContent(n,e.schema,a)).setMeta("commandName",r))}}},function(e,t){e.exports=y},function(e,t){e.exports=d},function(e,t){e.exports=l},function(e,t){e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTable=function(e,t,n){for(var r,a=e.table,s=e.table_row,o=e.table_cell,i=[],l=0;l<t+1;l++){r=[];for(var u=0;u<n+1;u++)r.push(o.createAndFill());i.push(s.createAndFill(void 0,r))}return a.createAndFill(void 0,i)}},function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=t(10);o.sanitize=function(e){return(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/^[\s\S]+?<!--StartFragment-->\s*([\s\S]*?)\s*<!--EndFragment-->[\s\S]+$/,"$1")).replace(/<\/?[ovw]:[^>]*?>/gi,"")).replace(/<\\?\??xml[^>]*>/gi,"")).replace(/<(?:link|meta) [^>]+?>/gi,"")).replace(/<style[^>]*?>\s*<\/style>/gi,"")).replace(/<\/?st1:.*?>/gi,"")).replace(/<a name="[a-zA-Z0-9_]+">/gim,"")).replace(/v:shapes?="[^"]+"/gi,"")).replace(/<!\[if !supportLists\]>/gi,"")).replace(/<!\[endif\]>/gi,"")},o.removeComments=function(e){return e.replace(/<!--[\s\S]+?-->/g,"")},o.removeTag=function(e,t){return e.replace(new RegExp("<\\/?("+t+")(?:\\s[^>]*?)?>","gi"),"")},o.removeAttribute=function(e){e.ownerElement&&e.ownerElement.removeAttribute(e.name)},o.sanitizeClassAttr=function(e){/^Mso/.test(e.value)&&o.removeAttribute(e)};var i=/\s*;\s*/,l=/\s*:\s*/;o.sanitizeStyleAttr=function(e){var n,r,t=e.value.split(i).filter(function(e){return Boolean(e)}),a=e.ownerElement.style,s="";t.forEach(function(e){var t=e.split(l);n=t[0],r=t[1],void 0!==a[n]&&(s+=n+": "+r+"; ")}),(s=s.trim())?e.value=s:o.removeAttribute(e)},o.pasteCleanup=function(e,t){var n,r=e;return t.convertMsLists&&(r=a.convertMsLists(r)),t.stripTags&&(r=o.removeTag(r,t.stripTags)),t.attributes&&((n=document.createElement("div")).innerHTML=r,Array.from(n.querySelectorAll("*")).forEach(function(e){return function(e,t){if(e.nodeType===Node.ELEMENT_NODE){for(var n=e.attributes.length-1;0<=n;n--){var r=e.attributes[n];t[r.name]?t[r.name](r):t["*"]&&t["*"](r)}"SPAN"===e.nodeName&&0===e.attributes.length&&function(e){var t=e.parentNode;if(t){for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}}(e)}}(e,t.attributes)}),r=n.innerHTML),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bold={mark:"strong",altMarks:["b"],altStyle:{name:"font-weight",value:/^(bold(er)?|[5-9]\d{2,})$/}},t.italic={mark:"em",altMarks:["i"],altStyle:{name:"font-style",value:/^italic$/i}},t.underline={mark:"u",altStyle:{name:"text-decoration",value:/^underline$/i}},t.strikethrough={mark:"del",altStyle:{name:"text-decoration",value:/^line-through$/i}},t.subscript={mark:"sub"},t.superscript={mark:"sup"},t.link={mark:"link"},t.unlink={mark:"link"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),s=n(12),o=n(11),r=n(14),i="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);t.buildKeymap=function(e){var n,t,r={};return r["Mod-z"]=s.undo,r["Shift-Mod-z"]=s.redo,r.Backspace=a.chainCommands(o.undoInputRule,a.deleteSelection,a.joinBackward,a.selectNodeBackward),r.Enter=a.chainCommands(a.newlineInCode,a.createParagraphNear,a.liftEmptyBlock,a.splitBlockKeepMarks),i||(r["Mod-y"]=s.redo),e.marks.strong&&(r["Mod-b"]=a.toggleMark(e.marks.strong)),e.marks.em&&(r["Mod-i"]=a.toggleMark(e.marks.em)),e.marks.underline&&(r["Mod-u"]=a.toggleMark(e.marks.underline)),e.nodes.hard_break&&(n=e.nodes.hard_break,t=a.chainCommands(a.exitCode,function(e,t){return t(e.tr.replaceSelectionWith(n.create()).scrollIntoView()),!0}),r["Shift-Enter"]=t),r},t.buildListKeymap=function(e){var t={};return e.nodes.list_item&&(t.Enter=r.splitListItemKeepMarks(e.nodes.list_item)),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e){for(var t,n={},r=e.attributes,a=0;a<r.length;a++)n[(t=r[a]).name]=t.value;return n}function a(e,t){for(var n in e)if(n&&null!==e[n]&&n!==t)return 1}function s(e,t){var n={};for(var r in e)r&&null!==e[r]&&r!==t&&(n[r]=e[r]);return n}function o(e){var t;return(t={})[e]={name:e,inclusive:!0,parseDOM:[{tag:e}],toDOM:function(){return[e,0]}},t}var i=n(1),l=n(13),u=["blockquote",0],c=["hr"],d=["pre",["code",0]],f=["ol",0],p=["ul",0],m=["li",0],g=i.__assign({link:{attrs:i.__assign({},{style:{default:null},class:{default:null},id:{default:null}},{href:{default:null},target:{default:null},title:{default:null}}),inclusive:!1,parseDOM:[{tag:"a",getAttrs:r}],toDOM:function(e){return["a",s(e.attrs),0]}}},o("strong"),o("b"),o("em"),o("i"),o("u"),o("del"),o("sub"),o("sup"),o("code"),{style:{attrs:i.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"span",getAttrs:r}],toDOM:function(e){return a(e.attrs)?["span",s(e.attrs),0]:["span",0]}}});t.marks=g;var v=i.__assign({doc:{content:"block+"},paragraph:{content:"inline*",group:"block",attrs:i.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"p",getAttrs:r}],toDOM:function(e){return a(e.attrs)?["p",s(e.attrs),0]:["p",0]}},div:{content:"block*",group:"block",attrs:i.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"div",getAttrs:r}],toDOM:function(e){return a(e.attrs)?["div",s(e.attrs),0]:["div",0]}},blockquote:{attrs:i.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return u}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return c}},heading:{attrs:i.__assign({},{style:{default:null},class:{default:null},id:{default:null}},{level:{default:1}}),content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs:function(e){return i.__assign({},r(e),{level:1})}},{tag:"h2",getAttrs:function(e){return i.__assign({},r(e),{level:2})}},{tag:"h3",getAttrs:function(e){return i.__assign({},r(e),{level:3})}},{tag:"h4",getAttrs:function(e){return i.__assign({},r(e),{level:4})}},{tag:"h5",getAttrs:function(e){return i.__assign({},r(e),{level:5})}},{tag:"h6",getAttrs:function(e){return i.__assign({},r(e),{level:6})}}],toDOM:function(e){return a(e.attrs,"level")?["h"+e.attrs.level,s(e.attrs,"level"),0]:["h"+e.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return d}},text:{inline:!0,group:"inline"},image:{inline:!0,attrs:i.__assign({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}},{style:{default:null},class:{default:null},id:{default:null}}),group:"inline",draggable:!0,parseDOM:[{tag:"img",getAttrs:r}],toDOM:function(e){return a(e.attrs)?["img",s(e.attrs)]:["img"]}},hard_break:{inline:!0,attrs:i.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),group:"inline",selectable:!1,parseDOM:[{tag:"br",getAttrs:r}],toDOM:function(e){return a(e.attrs)?["br",s(e.attrs)]:["br"]}},ordered_list:{content:"list_item+",group:"block",attrs:i.__assign({},{style:{default:null},class:{default:null},id:{default:null}},{type:{default:null},order:{default:1}}),parseDOM:[{tag:"ol",getAttrs:function(e){return i.__assign({},r(e),{order:e.hasAttribute("start")?parseInt(e.getAttribute("start")||"1",10):1})}}],toDOM:function(e){return 1===e.attrs.order?a(e.attrs,"order")?["ol",s(e.attrs,"order"),0]:f:["ol",i.__assign({},s(e.attrs,"order"),{start:e.attrs.order}),0]}},bullet_list:{content:"list_item+",group:"block",attrs:i.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"ul",getAttrs:r}],toDOM:function(e){return a(e.attrs)?["ul",s(e.attrs),0]:p}},list_item:{content:"block*",attrs:i.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"li",getAttrs:r}],toDOM:function(e){return a(e.attrs)?["li",s(e.attrs),0]:m},defining:!0}},l.tableNodes({tableGroup:"block",cellContent:"block+",cellAttributes:{}}));t.nodes=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){return{name:e,value:t}}t.alignLeftRules=[{node:"paragraph",style:[r("text-align","left")]},{node:"heading",style:[r("text-align","left")]},{node:"listItem",style:[r("text-align","left"),r("list-style-position","inside")]}],t.alignRightRules=[{node:"paragraph",style:[r("text-align","right")]},{node:"heading",style:[r("text-align","right")]},{node:"listItem",style:[r("text-align","right"),r("list-style-position","inside")]}],t.alignCenterRules=[{node:"paragraph",style:[r("text-align","center")]},{node:"heading",style:[r("text-align","center")]},{node:"listItem",style:[r("text-align","center"),r("list-style-position","inside")]}],t.alignJustifyRules=[{node:"paragraph",style:[r("text-align","justify")]},{node:"heading",style:[r("text-align","justify")]},{node:"listItem",style:[r("text-align","justify"),r("list-style-position","justify")]}],t.alignRemoveRules=[{node:"paragraph",style:[r("text-align","")]},{node:"heading",style:[r("text-align","")]},{node:"listItem",style:[r("text-align",""),r("list-style-position","")]}]},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t(8),s=t(16),m=t(9),l=t(3);a.indentBlocks=function(f,t,p){return function(l,u){var e=m.blockNodes(l),c=l.tr,d=!1;return c.setMeta("commandName",t),e.forEach(function(t){var e,n,r,a,s,o,i;t.type.isTextblock&&(e=void 0,(n=f.find(function(e){return e.node===t.type.name}))&&(a={name:r="rtl"===p?n.rtlStyle:n.style,value:0<n.step?""+n.step+n.unit:""},t.attrs.style&&(s=new RegExp(r+":\\s?(\\d+)"+n.unit,"i"),(o=t.attrs.style.match(s))&&(i=(i=parseFloat(o[1])+n.step)<=0?"":i,a.value=""+i+(i?n.unit:""))),e=m.addStyles(t,[a])),e&&(d=m.changeBlockNode(l,u,c,t,t.type,e)||d))}),d&&u(c.scrollIntoView()),d}},a.isIndented=function(e,a,s){var o=!1;return m.blockNodes(e).forEach(function(t){var e,n,r;o||!t.type.isTextblock||!t.attrs.style||(e=a.find(function(e){return e.node===t.type.name}))&&(n="rtl"===s?e.rtlStyle:e.style,r=new RegExp(n+":\\s?\\d+"+e.unit,"i"),o=r.test(t.attrs.style))}),o},a.canIndentAsListItem=function(e,t){return i.sinkListItem(t)(e)},a.canOutdentAsListItem=function(e,t){var n=e.schema.nodes[t.listsTypes.listItem],r=e.schema.nodes[t.listsTypes.orderedList],a=e.schema.nodes[t.listsTypes.bulletList],s=!!l.findNthParentNodeOfType(r,2)(e.selection),o=!!l.findNthParentNodeOfType(a,2)(e.selection);return(s||o)&&i.liftListItem(n)(e)},a.canBeIndented=function(t,e){var n=t.schema.nodes,r=n[s.indentRules.listsTypes.listItem];return(a.isIndented(t,e.nodes)||s.indentRules.nodes.some(function(e){return n[e.node]&&m.hasNode(t,n[e.node])}))&&!m.hasNode(t,r)},a.indent=function(e,t){var n=e.schema.nodes[s.indentRules.listsTypes.listItem],r=a.canBeIndented(e,s.indentRules);a.canIndentAsListItem(e,n)?i.sinkListItem(n)(e,t):r&&a.indentBlocks(s.indentRules.nodes)(e,t)},a.outdent=function(e,t){var n=e.schema.nodes[s.outdentRules.listsTypes.listItem],r=a.canBeIndented(e,s.outdentRules);a.canOutdentAsListItem(e,s.outdentRules)?i.liftListItem(n)(e,t):r&&a.indentBlocks(s.outdentRules.nodes)(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n(9);t.alignBlocks=function(i,t){return function(r,a){var e=l.blockNodes(r),s=r.tr;s.setMeta("commandName",t);var o=!1;return e.forEach(function(t){var e,n;t.type.isTextblock&&(e={},(n=i.find(function(e){return e.node===t.type.name}))&&(e=l.addStyles(t,n.style)),o=l.changeBlockNode(r,a,s,t,t.type,e)||o)}),o&&a(s.scrollIntoView()),o}},t.isAligned=function(e,n){var r=!1;return l.blockNodes(e).forEach(function(t){var e;r||!t.type.isTextblock||!t.attrs.style||(e=n.find(function(e){return e.node===t.type.name}))&&(r=e.style.every(function(e){return!!e.value&&new RegExp(e.name+":\\s?"+e.value,"i").test(t.attrs.style)}))}),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(3);t.insertImage=function(r){return function(e,t){var n=e.schema.nodes.image.createAndFill(r);a.insertNode(n)(e,function(e){return t(e.setMeta("commandName","insertImage").setMeta("args",r))})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insertText=function(n){return function(e,t){t(e.tr.insertText(n.text,n.from,n.to))}}},function(e,c,t){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var m=t(6),y=t(5),d=t(0);c.removeLink=function(f,p){return function(e,t){var n=e.selection.$cursor;if(n){for(var r,a=n.parent,s=n.index(),o=e.schema.marks[f.mark],i=a.child(s).marks.find(function(e){return e.type===o}),l=a.childCount,u=n.pos-n.textOffset,c=a.child(s).nodeSize,d=void 0,d=s-1;0<=d&&i.isInSet(a.child(d).marks);)c+=r=a.child(d).nodeSize,u-=r,--d;for(d=s+1;d<l&&i.isInSet(a.child(d).marks);)c+=a.child(d).nodeSize,d+=1;t(y.removeMark(p||e.tr,u,u+c,i))}else m.toggleInlineFormat(f,p)(e,t)}},c.applyLink=function(e,i){var l=e.mark,u=e.attrs;return void 0===i&&(i="link"),function(e,t){var n=e.schema.marks,r=e.tr;i&&(r.setMeta("commandName",i),r.setMeta("args",u));function a(){return o=!0}var s,g,v,o=!1;return y.getParentMark(e,n[l])?(g={mark:l,attrs:u},v=r,function(e,n){var t=e.selection,r=t.$cursor,a=t.from,s=t.to,o=e.schema.marks[g.mark];if(r){for(var i,l=r.parent,u=r.index(),c=l.child(u).marks.find(function(e){return e.type===o}),d=l.childCount,f=r.pos-r.textOffset,p=l.child(u).nodeSize,m=void 0,m=u-1;0<=m&&c.isInSet(l.child(m).marks);)p+=i=l.child(m).nodeSize,f-=i,--m;for(m=u+1;m<d&&c.isInSet(l.child(m).marks);)p+=l.child(m).nodeSize,m+=1;v.removeMark(f,f+p,o),v.addMark(f,f+p,o.create(g.attrs)),n(v)}else v.doc.nodesBetween(a,s,function(e,t){e.isInline&&o.isInSet(e.marks)&&(v.removeMark(t,t+e.nodeSize,o),v.addMark(t,t+e.nodeSize,o.create(g.attrs)),n(v))})}(e,a)):(s=e,y.hasMark(e,{mark:l})&&(c.removeLink({mark:l,attrs:u},r)(e,a),s=d.EditorState.create({doc:r.doc,selection:r.selection})),(o?y.toggleMark(n[l],u,r):m.toggleInlineFormat({mark:l},r,u))(s,a)),o&&t(r),o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(17);t.getHtml=a.getHtml,t.setHtml=a.setHtml,t.parseContent=a.parseContent;var s=n(6);t.applyInlineStyle=s.applyInlineStyle,t.getInlineStyles=s.getInlineStyles,t.toggleInlineFormat=s.toggleInlineFormat;var o=n(32);t.applyLink=o.applyLink,t.removeLink=o.removeLink;var i=n(31);t.insertText=i.insertText;var l=n(30);t.insertImage=l.insertImage;var u=n(29);t.alignBlocks=u.alignBlocks,t.isAligned=u.isAligned;var c=n(9);t.hasNode=c.hasNode,t.activeNode=c.activeNode,t.formatBlockElements=c.formatBlockElements,t.getBlockFormats=c.getBlockFormats;var d=n(5);t.hasMark=d.hasMark,t.getMark=d.getMark,t.getActiveMarks=d.getActiveMarks,t.removeAllMarks=d.removeAllMarks;var f=n(28);t.indent=f.indent,t.canIndentAsListItem=f.canIndentAsListItem,t.outdent=f.outdent,t.canOutdentAsListItem=f.canOutdentAsListItem,t.isIndented=f.isIndented,t.canBeIndented=f.canBeIndented,t.indentBlocks=f.indentBlocks;var p=n(14);t.toggleOrderedList=p.toggleOrderedList,t.toggleUnorderedList=p.toggleUnorderedList,t.toggleList=p.toggleList;var m=n(3);t.hasSameMarkup=m.hasSameMarkup,t.getUniqueStyleValues=m.getUniqueStyleValues,t.getSelectionText=m.getSelectionText,t.getNodeFromSelection=m.getNodeFromSelection,t.canInsert=m.canInsert,t.insertNode=m.insertNode,t.indentHtml=m.indentHtml;var g=n(27);t.alignLeftRules=g.alignLeftRules,t.alignCenterRules=g.alignCenterRules,t.alignRightRules=g.alignRightRules,t.alignJustifyRules=g.alignJustifyRules,t.alignRemoveRules=g.alignRemoveRules;var v=n(16);t.indentRules=v.indentRules,t.outdentRules=v.outdentRules;var y=n(26);t.nodes=y.nodes,t.marks=y.marks;var h=n(25);t.buildKeymap=h.buildKeymap,t.buildListKeymap=h.buildListKeymap;var k=n(24);t.bold=k.bold,t.italic=k.italic,t.underline=k.underline,t.strikethrough=k.strikethrough,t.subscript=k.subscript,t.superscript=k.superscript,t.link=k.link;var M=n(23);t.sanitize=M.sanitize,t.removeComments=M.removeComments,t.removeTag=M.removeTag,t.pasteCleanup=M.pasteCleanup,t.sanitizeClassAttr=M.sanitizeClassAttr,t.sanitizeStyleAttr=M.sanitizeStyleAttr,t.removeAttribute=M.removeAttribute;var b=n(10);t.convertMsLists=b.convertMsLists;var _=n(22);t.createTable=_.createTable,r.__exportStar(n(7),t),r.__exportStar(n(21),t),r.__exportStar(n(20),t),r.__exportStar(n(12),t),r.__exportStar(n(11),t),r.__exportStar(n(19),t),r.__exportStar(n(2),t),r.__exportStar(n(8),t),r.__exportStar(n(0),t),r.__exportStar(n(13),t),r.__exportStar(n(4),t),r.__exportStar(n(18),t),function(e){for(var t in e)S(t,e[t])}(t)}],r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=33)}}});