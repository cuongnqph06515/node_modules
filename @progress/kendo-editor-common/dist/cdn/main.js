!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("tslib"),require("prosemirror-state"),require("prosemirror-model"),require("prosemirror-transform"),require("prosemirror-schema-list"),require("prosemirror-commands"),require("prosemirror-tables"),require("prosemirror-history"),require("prosemirror-inputrules"),require("prosemirror-dropcursor"),require("prosemirror-gapcursor"),require("prosemirror-keymap"),require("prosemirror-view")):"function"==typeof define&&define.amd?define(["tslib","prosemirror-state","prosemirror-model","prosemirror-transform","prosemirror-schema-list","prosemirror-commands","prosemirror-tables","prosemirror-history","prosemirror-inputrules","prosemirror-dropcursor","prosemirror-gapcursor","prosemirror-keymap","prosemirror-view"],t):"object"==typeof exports?exports.KendoEditorCommon=t(require("tslib"),require("prosemirror-state"),require("prosemirror-model"),require("prosemirror-transform"),require("prosemirror-schema-list"),require("prosemirror-commands"),require("prosemirror-tables"),require("prosemirror-history"),require("prosemirror-inputrules"),require("prosemirror-dropcursor"),require("prosemirror-gapcursor"),require("prosemirror-keymap"),require("prosemirror-view")):e.KendoEditorCommon=t(e.tslib,e["prosemirror-state"],e["prosemirror-model"],e["prosemirror-transform"],e["prosemirror-schema-list"],e["prosemirror-commands"],e["prosemirror-tables"],e["prosemirror-history"],e["prosemirror-inputrules"],e["prosemirror-dropcursor"],e["prosemirror-gapcursor"],e["prosemirror-keymap"],e["prosemirror-view"])}(window,(function(e,t,r,n,o,i,s,a,l,u,c,d,f){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=18)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t){e.exports=r},function(e,t){e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(1),i=r(6),s=r(5),a=r(10);t.changeStyles=function(e,t){var r=t.style,n=t.value,o=t.newValue,i=[];if(e){var s=e.split(/\s*;\s*/).filter((function(e){return e})),a=s.filter((function(e){if(!e.toLowerCase().trim().startsWith(r))return!0;var t=e.split(":")[1].trim();return!n.test(t)||(i.push(t),!1)}));return o&&a.push(r+": "+o),{style:a.join("; ")+(a.length?";":""),changed:!!o||a.length!==s.length,styleMatches:i}}return{changed:!1,styleMatches:i,style:null}},t.changeStyle=function(e,t){return function(r,n,o){var a=r.selection,l=a.empty,u=a.$cursor,c=a.ranges;if(l&&!u||!i.markApplies(r.doc,c,e))return!1;var d=!1;if(n)if(o=o||r.tr,u){var f=r.storedMarks||u.marks();if(e.isInSet(f)){var p=s.changeStyleFromMark(f,t);n(o.removeStoredMark(e)),n(o.addStoredMark(e.create({style:p.style}))),d=!0}}else{for(var m=0;m<c.length;m++){var g=c[m],v=g.$from,y=g.$to;d=s.changeStyleMark(o,v.pos,y.pos,t,e)}d&&(o.scrollIntoView(),n(o))}return d}},t.canInsert=function(e,t){for(var r=e.selection.$from,n=r.depth;n>=0;n--){var o=r.index(n);if(r.node(n).canReplaceWith(o,o,t))return!0}return!1},t.getTypeName=function(e){return e instanceof n.Node?e.type.name:e.name},t.findParentNode=function(e){return function(t){for(var r=t.$from,n=r.depth;n>0;n--){var o=r.node(n);if(e(o))return{depth:n,node:o}}}},t.findNthParentNode=function(e,t){return void 0===t&&(t=1),function(r){for(var n=r.$from,o=n.depth;o>0;o--){var i=n.node(o);if(e(i)&&0===(t-=1))return{depth:o,node:i}}}},t.findNthParentNodeOfType=function(e,r){return void 0===r&&(r=1),function(n){return t.findNthParentNode((function(r){return t.getTypeName(r)===t.getTypeName(e)}),r)(n)}},t.insertNode=function(e,t){return function(r,n){var o=r.tr.replaceSelectionWith(e);t&&o.scrollIntoView(),n(o)}},t.hasSameMarkup=function(e,t,r,o){var i=n.Fragment.from(a.parseContent(e,r,o)),s=n.Fragment.from(a.parseContent(t,r,o));return i.eq(s)},t.first=function(e){return e[0]},t.last=function(e){return e[e.length-1]},t.split=function(e){return function(t){return t.split(e)}},t.trim=function(e){return e.trim()},t.filter=function(e){return function(t){return t.filter(e)}},t.getUniqueStyleValues=function(e,r){if(e.hasNodesWithoutMarks)return"";var n=e.marks.filter((function(e){return"style"===e.type.name})).map((function(e){return e.attrs.style})).map(t.split(";")).map(t.filter((function(e){return e.includes(r)}))).map((function(e){return 0!==e.length?e:[r+": INVALID"]})).map(t.first).map(t.split(":")).map(t.last).map(t.trim).reduce((function(e,t){return e.indexOf(t)>-1?e:e.concat([t])}),[]);return n.indexOf("INVALID")>-1||1!==n.length?"":n[0]},t.getSelectionText=function(e){var t=e.selection;if(t instanceof o.TextSelection||t instanceof o.AllSelection){var r=t.content().content;return r.textBetween(0,r.size)}return""},t.getNodeFromSelection=function(e){if(e.selection instanceof o.NodeSelection)return e.selection.node},t.indentHtml=function(e){return e.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(3),i=r(4),s=r(6);t.changeStyleFromMark=function(e,t){var r=e.find((function(e){return"style"===e.type.name})),n=r&&r.attrs.style;return i.changeStyles(n,t)},t.changeStyleMark=function(e,r,i,s,a){var l=a.create({style:s.style}),u=[],c=[],d=null,f=null;return e.doc.nodesBetween(r,i,(function(e,p,m){if(e.isInline){var g=e.marks;if(!l.isInSet(g)&&m.type.allowsMarkType(l.type)){var v=Math.max(p,r),y=Math.min(p+e.nodeSize,i),h=t.changeStyleFromMark(g,s);if(h.changed||s.newValue){for(var k=h.changed?{style:h.style||null}:{style:[s.style]+": "+s.newValue+";"},M=a.isInSet(g)?g.find((function(e){return"style"===e.type.name})):null,b=M?n.__assign({},M.attrs,k):k,S=a.create(b),_=S.addToSet(g),I=0;I<g.length;I++)g[I].isInSet(_)||(d&&d.to===v&&d.mark.eq(g[I])?d.to=y:(d=new o.RemoveMarkStep(v,y,g[I]),u.push(d)));var x=f&&f.to===v,L=x&&S.attrs.style===f.mark.attrs.style;x&&L?f.to=y:Object.keys(b).some((function(e){return null!==b[e]}))&&(f=new o.AddMarkStep(v,y,S),c.push(f))}}}})),u.forEach((function(t){return e.step(t)})),c.forEach((function(t){return e.step(t)})),u.length+c.length>0},t.hasStyle=function(e,r){var n=e.selection,o=n.from,i=n.$from,s=n.to,a=n.empty,l=!1,u={style:r.name,value:r.value};return a?l=t.changeStyleFromMark(e.storedMarks||i.marks(),u).changed:e.doc.nodesBetween(o,s,(function(e,r,n){!l&&e.isInline&&(l=t.changeStyleFromMark(e.marks,u).changed)})),l},t.getInlineStyles=function(e,r){var n,o=e.selection,i=o.from,s=o.$from,a=o.to,l=o.empty,u=[],c={style:r.name,value:r.value};return l?(n=t.changeStyleFromMark(e.storedMarks||s.marks(),c)).changed&&(u=n.styleMatches):e.doc.nodesBetween(i,a,(function(e,r,o){e.isInline&&((n=t.changeStyleFromMark(e.marks,c)).changed?u.push.apply(u,n.styleMatches):u.push(null))})),u.filter((function(e){return null!==e}))},t.changeStyle=function(e,r){return function(o,i,a){var l=o.selection,u=l.empty,c=l.$cursor,d=l.ranges;if(u&&!c||!s.markApplies(o.doc,d,e))return!1;var f=!1;if(i)if(a=a||o.tr,c){var p=o.storedMarks||c.marks();if(e.isInSet(p)){var m=t.changeStyleFromMark(p,r),g=p.find((function(e){return"style"===e.type.name})),v=n.__assign({},g?g.attrs:{},{style:m.style||null});i(a.removeStoredMark(e)),Object.keys(v).some((function(e){return null!==v[e]}))&&i(a.addStoredMark(e.create(v))),f=!0}}else{for(var y=0;y<d.length;y++){var h=d[y],k=h.$from,M=h.$to;f=t.changeStyleMark(a,k.pos,M.pos,r,e)}f&&(a.scrollIntoView(),i(a))}return f}},t.toggleInlineFormat=function(e,r,n){return function(o,i){var a=o.schema.marks,l=e.altStyle,u=e.altMarks,c=void 0===u?[]:u,d=e.mark;r=r||o.tr;var f=!1,p=!1,m=function(){return p=!0};if(l&&a.style){var g=a.style;f=t.changeStyle(g,{style:l.name,value:l.value})(o,m,r)}var v=[d].concat(c).filter((function(e){return a[e]})).map((function(e){return s.hasMark(o,{mark:e})&&a[e]})).filter((function(e){return e}));return v.length?s.removeMarks(v,o,m,r):f||s.toggleMark(a[d],n,r)(o,m),p&&i(r),p}},t.applyInlineStyle=function(e,r){return function(o,a){var l=o.schema.marks.style,u={style:e.style,value:/^.+$/,newValue:e.value},c=o.tr;r&&c.setMeta("commandName",r),c.setMeta("args",e);var d=o.selection,f=d.empty,p=d.$cursor,m=d.ranges;if(f&&!p||!s.markApplies(o.doc,m,l))return!1;if(p){var g=o.storedMarks||p.marks(),v=l.isInSet(g)?g.find((function(e){return"style"===e.type.name})):null,y={style:null};if(v&&v.attrs.style){var h=i.changeStyles(v.attrs.style,u);h.changed&&h.style&&(y.style=h.style)}else u.newValue&&(y.style=[u.style]+": "+u.newValue+";");var k=v?n.__assign({},v.attrs,y):y;return Object.keys(k).some((function(e){return null!==k[e]}))?a(c.addStoredMark(l.create(k))):a(c.removeStoredMark(l)),!0}return t.changeStyle(l,u)(o,a,c)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(2),i=r(1),s=r(5);t.markApplies=function(e,t,r){for(var n=function(n){var o=t[n],i=o.$from,s=o.$to,a=0===i.depth&&e.type.allowsMarkType(r);if(e.nodesBetween(i.pos,s.pos,(function(e){if(a)return!1;a=e.inlineContent&&e.type.allowsMarkType(r)})),a)return{v:!0}},o=0;o<t.length;o++){var i=n(o);if(i)return i.v}return!1},t.toggleMark=function(e,r,n){return function(o,i){var s=o.selection,a=s.empty,l=s.$cursor,u=s.ranges;if(a&&!l||!t.markApplies(o.doc,u,e))return!1;if(i)if(l)e.isInSet(o.storedMarks||l.marks())?i(n.removeStoredMark(e)):i(n.addStoredMark(e.create(r)));else{for(var c=!1,d=0;!c&&d<u.length;d++){var f=u[d],p=f.$from,m=f.$to;c=o.doc.rangeHasMark(p.pos,m.pos,e)}for(d=0;d<u.length;d++){var g=u[d];p=g.$from,m=g.$to;c?n.removeMark(p.pos,m.pos,e):n.addMark(p.pos,m.pos,e.create(r))}i(n.scrollIntoView())}return!0}},t.removeMark=function(e,t,r,i){void 0===i&&(i=null);var s=[],a=0;return e.doc.nodesBetween(t,r,(function(e,n){if(e.isInline){a++;var l=null;if(i instanceof o.MarkType){var u=i.isInSet(e.marks);u&&(l=[u])}else i?i.isInSet(e.marks)&&(l=[i]):l=e.marks;if(l&&l.length)for(var c=Math.min(n+e.nodeSize,r),d=0;d<l.length;d++){for(var f=l[d],p=void 0,m=0;m<s.length;m++){var g=s[m];g.step===a-1&&f.eq(g.style)&&(p=g)}p?(p.to=c,p.step=a):s.push({style:f,from:Math.max(n,t),to:c,step:a})}}})),s.forEach((function(t){return e.step(new n.RemoveMarkStep(t.from,t.to,t.style))})),e},t.removeMarks=function(e,r,n,o){var i=r.selection,s=i.$cursor,a=i.ranges;if(o=o||r.tr,s)e.forEach((function(e){e.isInSet(r.storedMarks||s.marks())&&n(o.removeStoredMark(e))}));else{for(var l=function(r){var n=a[r],i=n.$from,s=n.$to;e.forEach((function(e){t.removeMark(o,i.pos,s.pos,e)}))},u=0;u<a.length;u++)l(u);n(o.scrollIntoView())}return!0};t.removeAllMarks=function(e){var t=(void 0===e?{}:e).except,r=void 0===t?[]:t;return function(e,t){var n,o=e.schema,i=e.selection,s=i.empty,a=i.ranges,l=e.tr,u=(n=r,n instanceof Array?n:[n]).map((function(e){return e.name}));if(!s){var c=Object.keys(o.marks).map((function(e){return o.marks[e]})).filter((function(e){return-1===u.indexOf(e.name)}));a.forEach((function(e){var t=e.$from,r=e.$to;c.forEach((function(e){return l.removeMark(t.pos,r.pos,e)}))})),t(l)}}},t.getParentMark=function(e,t){var r=e.selection,n=r.from,o=r.$from,i=r.to,s=r.empty,a=e.doc;if(s)return t.isInSet(e.storedMarks||o.marks())||null;var l=[];return a.nodesBetween(n,i,(function(e){e.isInline&&l.push(t.isInSet(e.marks))})),1===l.length&&l[0]?l[0]:null},t.hasMark=function(e,t){var r,n=e.schema.marks,o=(t.altMarks||[]).filter((function(e){return n[e]})),i=t.altStyle,a=e.selection,l=a.from,u=a.$from,c=a.to,d=a.empty,f=n[t.mark],p=e.doc,m=!1;return d?(r=e.storedMarks||u.marks(),m=f&&f.isInSet(r)||o.some((function(e){return n[e].isInSet(r)}))):m=f&&p.rangeHasMark(l,c,f)||o.some((function(e){return p.rangeHasMark(l,c,n[e])})),!m&&i?s.hasStyle(e,i):Boolean(m)},t.getMark=function(e,t){var r,n=e.selection,o=n.from,i=n.$from,s=n.to,a=n.empty,l=e.doc;if(a)r=t.isInSet(e.storedMarks||i.marks());else{var u=[];l.nodesBetween(o,s,(function(e){e.isInline&&u.push(t.isInSet(e.marks))})),u.some((function(e){return!e}))||(r=u[u.length-1])}return r};t.getActiveMarks=function(e,t){var r=e.selection,n=!1;if(r instanceof i.TextSelection&&r.$cursor)return{hasNodesWithoutMarks:n,marks:r.$cursor.marks().filter((function(e){return!t||e.type.name===t.name}))};var o=[];return r.content().content.descendants((function(e){if("text"===e.type.name){var r=t?function(e,t){return t.marks.filter((function(t){return t.type.name===e.name}))}(t,e):e.marks;e.marks.length>0&&r.length>0?o.push.apply(o,r):n=!0}})),{hasNodesWithoutMarks:n,marks:o}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(4),i=r(3),s=r(2),a=r(1);t.changeBlockNode=function(e,t,r,n,o,a){var l=e.selection,u=l.from,c=l.to,d=!1;if(e.doc.nodesBetween(u,c,(function(t,r){if(d)return!1;if(t.isTextblock&&!t.hasMarkup(o,a))if(t.type===o)d=!0;else{var n=e.doc.resolve(r),i=n.index();d=n.parent.canReplaceWith(i,i+1,o)}})),!d)return!1;if(t){if(!o.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var f=r.steps.length;r.doc.nodesBetween(u,c,(function(e,t){if(e.eq(n)&&e.isTextblock&&!e.hasMarkup(o,a)&&function(e,t,r){var n=e.resolve(t),o=n.index();return n.parent.canReplaceWith(o,o+1,r)}(r.doc,r.mapping.slice(f).map(t),o)){r.clearIncompatible(r.mapping.slice(f).map(t,1),o);var l=r.mapping.slice(f),u=l.map(t,1),c=l.map(t+e.nodeSize,1),d=new s.Slice(s.Fragment.from(o.create(a,null,e.marks)),0,0);return r.step(new i.ReplaceAroundStep(u,c,u+1,c-1,d,1,!0)),!1}}))}return!0},t.blockNodes=function(e){var t=e.selection,r=t.from,n=t.to,o=t.$from,i=[];return t.node?t.node.isBlock?i.push(t.node):o.parent&&o.parent.isBlock&&i.push(o.parent):e.doc.nodesBetween(r,n,(function(e){e.isBlock&&i.push(e)})),i},t.formatBlockElements=function(e,r){return function(o,i){var s=t.blockNodes(o),a=o.schema.nodes,l=!1,u=o.tr;return u.setMeta("commandName",r),u.setMeta("args",{value:e}),s.forEach((function(r){if(r.type.isTextblock)if("p"===e){var s=r.attrs,c=s.level,d=n.__rest(s,["level"]);l=t.changeBlockNode(o,i,u,r,a.paragraph,d)||l}else if(/^h[1-6]$/i.test(e)){c=parseInt(e.substr(1),10);l=t.changeBlockNode(o,i,u,r,a.heading,n.__assign({},r.attrs,{level:c}))||l}else if("blockquote"===e){var f=r.attrs;c=f.level,d=n.__rest(f,["level"]);l=t.changeBlockNode(o,i,u,r,a.blockquote,d)||l}})),l&&i(u.scrollIntoView()),l}},t.getBlockFormats=function(e){var r=t.blockNodes(e),n=e.schema.nodes,o=[];return r.forEach((function(e){if(e.type===n.paragraph)o.push("p");else if(e.type===n.heading)for(var t=1;t<=6;t++)if(e.attrs.level===t){o.push("h"+t);break}})),o},t.addStyles=function(e,t){var r=e.attrs.style,n=null,i=null;r&&t.forEach((function(e){i={style:e.name,value:/^.+$/,newValue:e.value},n=o.changeStyles(r,i),r=n.changed?n.style:r}));return r=r||t.reduce((function(e,t){return(e&&t.value?e+" ":"")+t.value?t.name+": "+t.value+";":""}),""),Object.assign({},e.attrs,{style:r||null})},t.hasNode=function(e,t){var r=e.selection,n=r.from,o=r.to,i=!1;return e.doc.nodesBetween(n,o,(function(e){return!(i=i||e.type===t)})),i};var l=function(e){return function(e,t){return Object.keys(e).filter((function(e){return t(e)})).reduce((function(t,r){var n;return Object.assign(t,((n={})[r]=e[r],n))}),{})}(e,(function(t){return null!==e[t]&&void 0!==e[t]&&""!==e[t]}))};t.getNodeTagName=function(e,t){var r,n=e.type.spec.parseDOM||[],o=e.attrs;return(r=1===n.length?n[0]:n.find((function(r){var n=s.DOMSerializer.fromSchema(t).serializeNode(e);return JSON.stringify(r.getAttrs(n))===JSON.stringify(l(o))})))?r.tag.toLowerCase().replace(/ *\[[^\]]*]/,""):""},t.activeNode=function(e){var r,n=e.schema.nodes.doc;if(e.selection instanceof a.AllSelection)r=e.doc;else if(e.selection instanceof a.TextSelection){var i=e.selection.$anchor,s=i.node(i.blockRange().depth);r=o.getTypeName(s)===o.getTypeName(n)?i.node():s}else e.selection instanceof a.NodeSelection&&(r=e.selection.node);return{name:o.getTypeName(r),tag:t.getNodeTagName(r,e.schema)}}},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(1);t.parseContent=function(e,t,r){var o,i=e||"",s=document.createElement("template");"content"in s?(s.innerHTML=i,o=s.content):o=(new DOMParser).parseFromString(i,"text/html").body;return n.DOMParser.fromSchema(t).parse(o,r)},t.getHtml=function(e){var t=n.DOMSerializer.fromSchema(e.schema).serializeFragment(e.doc.content),r=document.createElement("div");return r.appendChild(t),r.innerHTML},t.setHtml=function(e,r,n){return void 0===r&&(r="setHTML"),void 0===n&&(n={preserveWhitespace:"full"}),function(i,s){return s(i.tr.setSelection(new o.AllSelection(i.doc)).replaceSelectionWith(t.parseContent(e,i.schema,n)).setMeta("commandName",r))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(12);t.indentRules={nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"}],listsTypes:n.__assign({},o.listsTypes)},t.outdentRules={nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"}],listsTypes:n.__assign({},o.listsTypes)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.listsTypes={orderedList:"ordered_list",bulletList:"bullet_list",listItem:"list_item"},t.orderedList={listType:t.listsTypes.orderedList,types:n.__assign({},t.listsTypes)},t.bulletList={listType:t.listsTypes.bulletList,types:n.__assign({},t.listsTypes)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(2),i=r(1),s=r(3),a=r(9),l=r(8),u=r(12);function c(e,r,n){var o=e.selection,i=o.from,s=o.to,a=e.schema.nodes,l=a.paragraph,u=a.heading,c=[];r.doc.nodesBetween(i,s,(function(e,t){e.type!==l&&e.type!==u||c.push({node:e,pos:t})}));for(var d=c.length-1;d>=0;d--){var f=c[d],p=r.doc.resolve(r.mapping.map(f.pos));if(p.depth>0){var m=void 0;m=f.node.textContent&&f.node.textContent.length>0?r.doc.resolve(r.mapping.map(f.pos+f.node.textContent.length)):r.doc.resolve(r.mapping.map(f.pos+1));var g=p.blockRange(m);g&&r.lift(g,t.getListLiftTarget(e.schema,p,n))}}return r}function d(e){return function(t,r,n){if(!n)return!1;var o=(t=n.state).schema.nodes[e.listType],i=t.selection,s=i.$from,a=i.$to,l=s.node(-2),u=s.node(-3),c=m(t.doc,s,a,o);return(l&&l.type===o||u&&u.type===o)&&c?y(e)(t,r):(c||(y(e)(t,r),t=n.state),h(o)(t,r))}}function f(e,t,r,n){n||(n=e.schema.nodes.listItem);var i=t.$from,a=t.$to,l=i.blockRange(a,(function(e){return e.childCount&&e.firstChild.type===n}));if(!l||l.depth<2||i.node(l.depth-1).type!==n)return r;var u=l.end,c=a.end(l.depth);return u<c&&(r.step(new s.ReplaceAroundStep(u-1,c,u,c,new o.Slice(o.Fragment.from(n.create(void 0,l.parent.copy())),1,0),1,!0)),l=new o.NodeRange(r.doc.resolve(i.pos),r.doc.resolve(c),l.depth)),r.lift(l,s.liftTarget(l)).scrollIntoView()}function p(e,t,r,n,o,s){s||(s=e.schema.nodes.listItem);var a=!1;return o.doc.nodesBetween(t,r,(function(r,l){if(!a&&r.type===s&&l>t){a=!0;for(var u=n+3;u>n+2;){var c=o.doc.resolve(o.mapping.map(l));u=c.depth;var d=o.doc.resolve(o.mapping.map(l+r.textContent.length)),p=new i.TextSelection(c,d);o=f(e,p,o,s)}}})),o}function m(e,t,r,n){return 0===g(e,t,r).filter((function(e){return e.type!==n})).length}function g(e,t,r){for(var n=Array(),o=v(e,t).depth,i=e.resolve(t.start(o));i.pos<=r.start(r.depth);){var s=Math.min(i.depth,o),a=i.node(s);if(a&&n.push(a),0===s)break;var l=e.resolve(i.after(s));if(l.start(s)>=e.nodeSize-2)break;l.depth!==i.depth&&(l=e.resolve(l.pos+2)),i=l.depth?e.resolve(l.start(l.depth)):e.resolve(l.end(l.depth))}return n}function v(e,t){var r=["blockquote","bulletList","orderedList"];if(1===t.depth)return t;for(var n=t.node(t.depth),o=t;t.depth>=1;)(n=(t=e.resolve(t.before(t.depth))).node(t.depth))&&-1!==r.indexOf(n.type.name)&&(o=t);return o}function y(e){return function(t,r){var n=t.tr,o=t.selection,a=o.$from,l=o.$to;return n.doc.nodesBetween(a.pos,l.pos,(function(r,o){if(r.isTextblock||"blockquote"===r.type.name||"div"===r.type.name){var a=new i.NodeSelection(n.doc.resolve(n.mapping.map(o))),l=a.$from.blockRange(a.$to);if(!l||a.$from.parent.type!==t.schema.nodes[e.listItem])return!1;var u=l&&s.liftTarget(l);if(null==u)return!1;n.lift(l,u)}})),r&&r(n),!0}}function h(e){return a.autoJoin(l.wrapInList(e),(function(t,r){return t.type===r.type&&t.type===e}))}t.rootListDepth=function(e,t){for(var r,n=t.bulletList,o=t.orderedList,i=t.listItem,s=e.depth-1;s>0;s--){var a=e.node(s);if(a.type!==n&&a.type!==o||(r=s),a.type!==n&&a.type!==o&&a.type!==i)break}return r},t.getListLiftTarget=function(e,t,r){for(var n=t.depth,o=e.nodes[r.bulletList],i=e.nodes[r.orderedList],s=e.nodes[r.listItem],a=t.depth;a>0;a--){var l=t.node(a);if(l.type!==o&&l.type!==i||(n=a),l.type!==o&&l.type!==i&&l.type!==s)break}return n-1},t.liftSelectionList=c,t.toggleList=function(e,r,n,o,i){var s=o.listType,a=e.selection,l=a.$from.node(a.$from.depth-2),u=a.$to.node(a.$to.depth-2);if(l&&l.type.name===s&&u&&u.type.name===s){var f=n.state.schema.nodes,m={bulletList:f[o.bulletList],orderedList:f[o.orderedList],listItem:f[o.listItem]},g=t.rootListDepth(a.$to,m),v=p(e,a.$to.pos,a.$to.end(g),g,n.state.tr,m.listItem);return(v=c(e,v,o)).setMeta("commandName",i),r(v),!0}return d(o)(e,r,n)},t.toggleListCommand=d,t.liftFollowingList=p,t.isRangeOfType=m,t.getAncestorNodesBetween=g,t.findAncestorPosition=v,t.liftListItems=y,t.wrapInList=h,t.toggleUnorderedList=function(e,r,o){return t.toggleList(e,r,o,n.__assign({listType:u.bulletList.listType},u.bulletList.types))},t.toggleOrderedList=function(e,r,o){return t.toggleList(e,r,o,n.__assign({listType:u.orderedList.listType},u.orderedList.types))},t.splitListItemKeepMarks=function(e){return function(t,r){return l.splitListItem(e)(t,(function(e){var n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();n&&e.ensureMarks(n),r(e)}))}}},function(e,t){e.exports=s},function(e,t){e.exports=a},function(e,t){e.exports=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/style=['"]?[^'"]*?mso-list:\s*[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi,o=function(e){return/^MsoListParagraph/.test(e.className)},i=function(e){var t=e.innerHTML;return t=(t=t.replace(/<!--(.|\s)*?-->/gi,"")).replace(/<\/?[^>]+?\/?>/gm,"")},s=function(e,t){var r=document.createElement(e);return r.style.listStyleType=t,r},a=function(e){var t=null;return/^\d/.test(e)||(t=(/^[a-z]/.test(e)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(e)?"roman":"alpha")),t},l=function(e,t){var r=[];Array.from(e).forEach((function(e){if(e.nodeType===Node.ELEMENT_NODE){var n=e;n.getAttribute("datalist")?(r.push(e),t.add(r)):o(n)&&r.length?r.push(e):(r=[],"DIV"===n.nodeName?l(n.children,t):"TABLE"===n.nodeName&&Array.from(n.querySelectorAll("td,th")).forEach((function(e){l(e.children,t)})))}}))},u=function(e){var t,r=e.innerHTML,n=function(e){return e.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,"")};return r=r.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g," "),/^[\u2022\u00b7\u00a7\u00d8oØüvn][\u00a0 ]+/.test(r)?{tag:"ul",style:(t=n(i(e)),/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(t)?null:/^o/.test(t)?"circle":"square")}:/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(r)?{tag:"ol",style:a(n(i(e)))}:void 0},c=function(e){var t,r=e.nodeName.toLowerCase();e.firstChild&&e.firstChild.nodeType===Node.COMMENT_NODE&&e.removeChild(e.firstChild),1===e.childNodes.length?t=e.firstChild.nodeType===Node.TEXT_NODE?i(e):e.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,""):(e.removeChild(e.firstChild),3===e.firstChild.nodeType&&/^[ivxlcdm]+\.$/i.test(e.firstChild.nodeValue)&&e.removeChild(e.firstChild),/^(&nbsp;|\s)+$/i.test(e.firstChild.innerHTML)&&e.removeChild(e.firstChild),t="p"!==r?"<"+r+">"+e.innerHTML+"</"+r+">":e.innerHTML),e.parentNode.removeChild(e);var n=document.createElement("li");return n.innerHTML=t,n};t.convertMsLists=function(e){var t=document.createElement("div");t.innerHTML=function(e){return e=e.replace(n,(function(e,t,r){return'datalist="'+t+'" datalevel="'+r+'" '+e}))}(e);var r=new Set;return l(t.children,r),r.forEach((function(e){return function(e){var t,r,n,i,a,l,d,f,p,m,g,v,y,h=-1,k={};for(f=0;f<e.length;f++){var M=(y={datalist:(p=e[f]).getAttribute("datalist"),datalevel:p.getAttribute("datalevel")}).datalist,b=u(p);if(m=b&&b.tag){if(g=y.datalevel||parseFloat(p.style.marginLeft||0),y.datalevel||p.style.marginLeft){var S=m+M;k[g]||(k[g]={}),(!r||r<0)&&(r=g,n=M,i=(d=e.filter((function(e){return e.getAttribute("datalist")===String(n)})))[d.length-1],l=s(m,b&&b.style),p.parentNode.insertBefore(l,p),h=g,k[g][S]=l),a=i===p,v=k[g][S],(g>h||!v)&&(v=s(m,b&&b.style),k[g][S]=v,t.appendChild(v)),t=c(p),v.appendChild(t),a?r=h=-1:h=g}}else!t||a&&!o(p)||(p.style.marginLeft&&(p.style.marginLeft=""),p.style.marginLeft&&(p.style.margin=""),t.appendChild(p))}}(e)})),t.innerHTML}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(10);t.getHtml=o.getHtml,t.setHtml=o.setHtml,t.parseContent=o.parseContent;var i=r(5);t.applyInlineStyle=i.applyInlineStyle,t.getInlineStyles=i.getInlineStyles,t.toggleInlineFormat=i.toggleInlineFormat;var s=r(19);t.applyLink=s.applyLink,t.removeLink=s.removeLink;var a=r(20);t.insertText=a.insertText;var l=r(21);t.insertImage=l.insertImage;var u=r(22);t.alignBlocks=u.alignBlocks,t.isAligned=u.isAligned;var c=r(7);t.hasNode=c.hasNode,t.activeNode=c.activeNode,t.formatBlockElements=c.formatBlockElements,t.getBlockFormats=c.getBlockFormats;var d=r(6);t.hasMark=d.hasMark,t.getMark=d.getMark,t.getActiveMarks=d.getActiveMarks,t.removeAllMarks=d.removeAllMarks;var f=r(23);t.indent=f.indent,t.canIndentAsListItem=f.canIndentAsListItem,t.outdent=f.outdent,t.canOutdentAsListItem=f.canOutdentAsListItem,t.isIndented=f.isIndented,t.canBeIndented=f.canBeIndented,t.indentBlocks=f.indentBlocks;var p=r(13);t.toggleOrderedList=p.toggleOrderedList,t.toggleUnorderedList=p.toggleUnorderedList,t.toggleList=p.toggleList;var m=r(4);t.hasSameMarkup=m.hasSameMarkup,t.getUniqueStyleValues=m.getUniqueStyleValues,t.getSelectionText=m.getSelectionText,t.getNodeFromSelection=m.getNodeFromSelection,t.canInsert=m.canInsert,t.insertNode=m.insertNode,t.indentHtml=m.indentHtml;var g=r(24);t.alignLeftRules=g.alignLeftRules,t.alignCenterRules=g.alignCenterRules,t.alignRightRules=g.alignRightRules,t.alignJustifyRules=g.alignJustifyRules,t.alignRemoveRules=g.alignRemoveRules;var v=r(11);t.indentRules=v.indentRules,t.outdentRules=v.outdentRules;var y=r(25);t.nodes=y.nodes,t.marks=y.marks;var h=r(26);t.buildKeymap=h.buildKeymap,t.buildListKeymap=h.buildListKeymap;var k=r(27);t.bold=k.bold,t.italic=k.italic,t.underline=k.underline,t.strikethrough=k.strikethrough,t.subscript=k.subscript,t.superscript=k.superscript,t.link=k.link;var M=r(28);t.sanitize=M.sanitize,t.removeComments=M.removeComments,t.removeTag=M.removeTag,t.pasteCleanup=M.pasteCleanup,t.sanitizeClassAttr=M.sanitizeClassAttr,t.sanitizeStyleAttr=M.sanitizeStyleAttr,t.removeAttribute=M.removeAttribute;var b=r(17);t.convertMsLists=b.convertMsLists;var S=r(29);t.createTable=S.createTable,n.__exportStar(r(9),t),n.__exportStar(r(30),t),n.__exportStar(r(31),t),n.__exportStar(r(15),t),n.__exportStar(r(16),t),n.__exportStar(r(32),t),n.__exportStar(r(2),t),n.__exportStar(r(8),t),n.__exportStar(r(1),t),n.__exportStar(r(14),t),n.__exportStar(r(3),t),n.__exportStar(r(33),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=r(6),i=r(1);t.removeLink=function(e,t){return function(r,i){var s=r.selection.$cursor;if(s){var a=s.parent,l=s.index(),u=r.schema.marks[e.mark],c=a.child(l).marks.find((function(e){return e.type===u})),d=a.childCount,f=s.pos-s.textOffset,p=a.child(l).nodeSize,m=void 0,g=void 0;for(m=l-1;m>=0&&c.isInSet(a.child(m).marks);)p+=g=a.child(m).nodeSize,f-=g,m-=1;for(m=l+1;m<d&&c.isInSet(a.child(m).marks);)p+=a.child(m).nodeSize,m+=1;i(o.removeMark(t||r.tr,f,f+p,c))}else n.toggleInlineFormat(e,t)(r,i)}},t.applyLink=function(e,r){var s=e.mark,a=e.attrs;return void 0===r&&(r="link"),function(e,l){var u=e.schema.marks,c=e.tr;r&&(c.setMeta("commandName",r),c.setMeta("args",a));var d=!1,f=function(){return d=!0};if(o.getParentMark(e,u[s]))!function(e,t){return function(r,n){var o=r.selection,i=o.$cursor,s=o.from,a=o.to,l=r.schema.marks[e.mark];if(i){var u=i.parent,c=i.index(),d=u.child(c).marks.find((function(e){return e.type===l})),f=u.childCount,p=i.pos-i.textOffset,m=u.child(c).nodeSize,g=void 0,v=void 0;for(g=c-1;g>=0&&d.isInSet(u.child(g).marks);)m+=v=u.child(g).nodeSize,p-=v,g-=1;for(g=c+1;g<f&&d.isInSet(u.child(g).marks);)m+=u.child(g).nodeSize,g+=1;t.removeMark(p,p+m,l),t.addMark(p,p+m,l.create(e.attrs)),n(t)}else t.doc.nodesBetween(s,a,(function(r,o){r.isInline&&l.isInSet(r.marks)&&(t.removeMark(o,o+r.nodeSize,l),t.addMark(o,o+r.nodeSize,l.create(e.attrs)),n(t))}))}}({mark:s,attrs:a},c)(e,f);else{var p=e;o.hasMark(e,{mark:s})&&(t.removeLink({mark:s,attrs:a},c)(e,f),p=i.EditorState.create({doc:c.doc,selection:c.selection})),d?o.toggleMark(u[s],a,c)(p,f):n.toggleInlineFormat({mark:s},c,a)(p,f)}return d&&l(c),d}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insertText=function(e){return function(t,r){r(t.tr.insertText(e.text,e.from,e.to))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.insertImage=function(e){return function(t,r){var o=t.schema.nodes.image,i=o.createAndFill(e);n.insertNode(i)(t,(function(t){return r(t.setMeta("commandName","insertImage").setMeta("args",e))}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7);t.alignBlocks=function(e,t){return function(r,o){var i=n.blockNodes(r),s=r.tr;s.setMeta("commandName",t);var a=!1;return i.forEach((function(t){if(t.type.isTextblock){var i={},l=e.find((function(e){return e.node===t.type.name}));l&&(i=n.addStyles(t,l.style)),a=n.changeBlockNode(r,o,s,t,t.type,i)||a}})),a&&o(s.scrollIntoView()),a}},t.isAligned=function(e,t){var r=n.blockNodes(e),o=!1;return r.forEach((function(e){if(!o&&e.type.isTextblock&&e.attrs.style){var r=t.find((function(t){return t.node===e.type.name}));r&&(o=r.style.every((function(t){return!!t.value&&new RegExp(t.name+":\\s?"+t.value,"i").test(e.attrs.style)})))}})),o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),o=r(11),i=r(7),s=r(4);t.indentBlocks=function(e,t,r){return function(n,o){var s=i.blockNodes(n),a=n.tr,l=!1;return a.setMeta("commandName",t),s.forEach((function(t){if(t.type.isTextblock){var s=void 0,u=e.find((function(e){return e.node===t.type.name}));if(u){var c="rtl"===r?u.rtlStyle:u.style,d={name:c,value:u.step>0?""+u.step+u.unit:""};if(t.attrs.style){var f=new RegExp(c+":\\s?(\\d+)"+u.unit,"i"),p=t.attrs.style.match(f);if(p){var m=parseFloat(p[1])+u.step;m=m<=0?"":m,d.value=""+m+(m?u.unit:"")}}s=i.addStyles(t,[d])}s&&(l=i.changeBlockNode(n,o,a,t,t.type,s)||l)}})),l&&o(a.scrollIntoView()),l}},t.isIndented=function(e,t,r){var n=i.blockNodes(e),o=!1;return n.forEach((function(e){if(!o&&e.type.isTextblock&&e.attrs.style){var n=t.find((function(t){return t.node===e.type.name}));if(n){var i="rtl"===r?n.rtlStyle:n.style,s=new RegExp(i+":\\s?\\d+"+n.unit,"i");o=s.test(e.attrs.style)}}})),o},t.canIndentAsListItem=function(e,t){return n.sinkListItem(t)(e)},t.canOutdentAsListItem=function(e,t){var r=e.schema.nodes[t.listsTypes.listItem],o=e.schema.nodes[t.listsTypes.orderedList],i=e.schema.nodes[t.listsTypes.bulletList],a=!!s.findNthParentNodeOfType(o,2)(e.selection),l=!!s.findNthParentNodeOfType(i,2)(e.selection);return(a||l)&&n.liftListItem(r)(e)},t.canBeIndented=function(e,r){var n=e.schema.nodes,s=n[o.indentRules.listsTypes.listItem];return(t.isIndented(e,r.nodes)||o.indentRules.nodes.some((function(t){return n[t.node]&&i.hasNode(e,n[t.node])})))&&!i.hasNode(e,s)},t.indent=function(e,r){var i=e.schema.nodes[o.indentRules.listsTypes.listItem],s=t.canBeIndented(e,o.indentRules);t.canIndentAsListItem(e,i)?n.sinkListItem(i)(e,r):s&&t.indentBlocks(o.indentRules.nodes)(e,r)},t.outdent=function(e,r){var i=e.schema.nodes[o.outdentRules.listsTypes.listItem],s=t.canBeIndented(e,o.outdentRules);t.canOutdentAsListItem(e,o.outdentRules)?n.liftListItem(i)(e,r):s&&t.indentBlocks(o.outdentRules.nodes)(e,r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){return{name:e,value:t}};t.alignLeftRules=[{node:"paragraph",style:[n("text-align","left")]},{node:"heading",style:[n("text-align","left")]},{node:"listItem",style:[n("text-align","left"),n("list-style-position","inside")]}],t.alignRightRules=[{node:"paragraph",style:[n("text-align","right")]},{node:"heading",style:[n("text-align","right")]},{node:"listItem",style:[n("text-align","right"),n("list-style-position","inside")]}],t.alignCenterRules=[{node:"paragraph",style:[n("text-align","center")]},{node:"heading",style:[n("text-align","center")]},{node:"listItem",style:[n("text-align","center"),n("list-style-position","inside")]}],t.alignJustifyRules=[{node:"paragraph",style:[n("text-align","justify")]},{node:"heading",style:[n("text-align","justify")]},{node:"listItem",style:[n("text-align","justify"),n("list-style-position","justify")]}],t.alignRemoveRules=[{node:"paragraph",style:[n("text-align","")]},{node:"heading",style:[n("text-align","")]},{node:"listItem",style:[n("text-align",""),n("list-style-position","")]}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(14),i=["blockquote",0],s=["hr"],a=["pre",["code",0]],l=["ol",0],u=["ul",0],c=["li",0],d=function(e){for(var t,r={},n=e.attributes,o=0;o<n.length;o++)r[(t=n[o]).name]=t.value;return r},f=function(e,t){for(var r in e)if(r&&null!==e[r]&&r!==t)return!0;return!1},p=function(e,t){var r={};for(var n in e)n&&null!==e[n]&&n!==t&&(r[n]=e[n]);return r},m=function(e){var t;return(t={})[e]={name:e,inclusive:!0,parseDOM:[{tag:e}],toDOM:function(){return[e,0]}},t},g=n.__assign({link:{attrs:n.__assign({},{style:{default:null},class:{default:null},id:{default:null}},{href:{default:null},target:{default:null},title:{default:null}}),inclusive:!1,parseDOM:[{tag:"a",getAttrs:d}],toDOM:function(e){return["a",p(e.attrs),0]}}},m("strong"),m("b"),m("em"),m("i"),m("u"),m("del"),m("sub"),m("sup"),m("code"),{style:{attrs:n.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"span",getAttrs:d}],toDOM:function(e){return f(e.attrs)?["span",p(e.attrs),0]:["span",0]}}});t.marks=g;var v=n.__assign({doc:{content:"block+"},paragraph:{content:"inline*",group:"block",attrs:n.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"p",getAttrs:d}],toDOM:function(e){return f(e.attrs)?["p",p(e.attrs),0]:["p",0]}},div:{content:"block*",group:"block",attrs:n.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"div",getAttrs:d}],toDOM:function(e){return f(e.attrs)?["div",p(e.attrs),0]:["div",0]}},blockquote:{attrs:n.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return i}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return s}},heading:{attrs:n.__assign({},{style:{default:null},class:{default:null},id:{default:null}},{level:{default:1}}),content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs:function(e){return n.__assign({},d(e),{level:1})}},{tag:"h2",getAttrs:function(e){return n.__assign({},d(e),{level:2})}},{tag:"h3",getAttrs:function(e){return n.__assign({},d(e),{level:3})}},{tag:"h4",getAttrs:function(e){return n.__assign({},d(e),{level:4})}},{tag:"h5",getAttrs:function(e){return n.__assign({},d(e),{level:5})}},{tag:"h6",getAttrs:function(e){return n.__assign({},d(e),{level:6})}}],toDOM:function(e){return f(e.attrs,"level")?["h"+e.attrs.level,p(e.attrs,"level"),0]:["h"+e.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return a}},text:{inline:!0,group:"inline"},image:{inline:!0,attrs:n.__assign({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}},{style:{default:null},class:{default:null},id:{default:null}}),group:"inline",draggable:!0,parseDOM:[{tag:"img",getAttrs:d}],toDOM:function(e){return f(e.attrs)?["img",p(e.attrs)]:["img"]}},hard_break:{inline:!0,attrs:n.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),group:"inline",selectable:!1,parseDOM:[{tag:"br",getAttrs:d}],toDOM:function(e){return f(e.attrs)?["br",p(e.attrs)]:["br"]}},ordered_list:{content:"list_item+",group:"block",attrs:n.__assign({},{style:{default:null},class:{default:null},id:{default:null}},{type:{default:null},order:{default:1}}),parseDOM:[{tag:"ol",getAttrs:function(e){return n.__assign({},d(e),{order:e.hasAttribute("start")?parseInt(e.getAttribute("start")||"1",10):1})}}],toDOM:function(e){return 1===e.attrs.order?f(e.attrs,"order")?["ol",p(e.attrs,"order"),0]:l:["ol",n.__assign({},p(e.attrs,"order"),{start:e.attrs.order}),0]}},bullet_list:{content:"list_item+",group:"block",attrs:n.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"ul",getAttrs:d}],toDOM:function(e){return f(e.attrs)?["ul",p(e.attrs),0]:u}},list_item:{content:"block*",attrs:n.__assign({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"li",getAttrs:d}],toDOM:function(e){return f(e.attrs)?["li",p(e.attrs),0]:c},defining:!0}},o.tableNodes({tableGroup:"block",cellContent:"block+",cellAttributes:{}}));t.nodes=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),o=r(15),i=r(16),s=r(13),a="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);t.buildKeymap=function(e){var t={};if(t["Mod-z"]=o.undo,t["Shift-Mod-z"]=o.redo,t.Backspace=n.chainCommands(i.undoInputRule,n.deleteSelection,n.joinBackward,n.selectNodeBackward),t.Enter=n.chainCommands(n.newlineInCode,n.createParagraphNear,n.liftEmptyBlock,n.splitBlockKeepMarks),a||(t["Mod-y"]=o.redo),e.marks.strong&&(t["Mod-b"]=n.toggleMark(e.marks.strong)),e.marks.em&&(t["Mod-i"]=n.toggleMark(e.marks.em)),e.marks.underline&&(t["Mod-u"]=n.toggleMark(e.marks.underline)),e.nodes.hard_break){var r=e.nodes.hard_break,s=n.chainCommands(n.exitCode,(function(e,t){return t(e.tr.replaceSelectionWith(r.create()).scrollIntoView()),!0}));t["Shift-Enter"]=s}return t},t.buildListKeymap=function(e){var t={};return e.nodes.list_item&&(t.Enter=s.splitListItemKeepMarks(e.nodes.list_item)),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bold={mark:"strong",altMarks:["b"],altStyle:{name:"font-weight",value:/^(bold(er)?|[5-9]\d{2,})$/}},t.italic={mark:"em",altMarks:["i"],altStyle:{name:"font-style",value:/^italic$/i}},t.underline={mark:"u",altStyle:{name:"text-decoration",value:/^underline$/i}},t.strikethrough={mark:"del",altStyle:{name:"text-decoration",value:/^line-through$/i}},t.subscript={mark:"sub"},t.superscript={mark:"sup"},t.link={mark:"link"},t.unlink={mark:"link"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(17);t.sanitize=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/^[\s\S]+?<!--StartFragment-->\s*([\s\S]*?)\s*<!--EndFragment-->[\s\S]+$/,"$1")).replace(/<\/?[ovw]:[^>]*?>/gi,"")).replace(/<\\?\??xml[^>]*>/gi,"")).replace(/<(?:link|meta) [^>]+?>/gi,"")).replace(/<style[^>]*?>\s*<\/style>/gi,"")).replace(/<\/?st1:.*?>/gi,"")).replace(/<a name="[a-zA-Z0-9_]+">/gim,"")).replace(/v:shapes?="[^"]+"/gi,"")).replace(/<!\[if !supportLists\]>/gi,"")).replace(/<!\[endif\]>/gi,"")},t.removeComments=function(e){return e.replace(/<!--[\s\S]+?-->/g,"")},t.removeTag=function(e,t){return e.replace(new RegExp("<\\/?("+t+")(?:\\s[^>]*?)?>","gi"),"")},t.removeAttribute=function(e){e.ownerElement&&e.ownerElement.removeAttribute(e.name)},t.sanitizeClassAttr=function(e){/^Mso/.test(e.value)&&t.removeAttribute(e)};var o=/\s*;\s*/,i=/\s*:\s*/;t.sanitizeStyleAttr=function(e){var r,n,s=e.value.split(o).filter((function(e){return Boolean(e)})),a=e.ownerElement.style,l="";s.forEach((function(e){var t;t=e.split(i),r=t[0],n=t[1],void 0!==a[r]&&(l+=r+": "+n+"; ")})),(l=l.trim())?e.value=l:t.removeAttribute(e)};t.pasteCleanup=function(e,r){var o=e;if(r.convertMsLists&&(o=n.convertMsLists(o)),r.stripTags&&(o=t.removeTag(o,r.stripTags)),r.attributes){var i=document.createElement("div");i.innerHTML=o,Array.from(i.querySelectorAll("*")).forEach((function(e){return function(e,t){if(e.nodeType===Node.ELEMENT_NODE){for(var r=e.attributes.length-1;r>=0;r--){var n=e.attributes[r];t[n.name]?t[n.name](n):t["*"]&&t["*"](n)}"SPAN"===e.nodeName&&0===e.attributes.length&&function(e){var t=e.parentNode;if(t){for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}}(e)}}(e,r.attributes)})),o=i.innerHTML}return o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTable=function(e,t,r){for(var n,o=e.table,i=e.table_row,s=e.table_cell,a=[],l=0;l<t+1;l++){n=[];for(var u=0;u<r+1;u++)n.push(s.createAndFill());a.push(i.createAndFill(void 0,n))}return o.createAndFill(void 0,a)}},function(e,t){e.exports=u},function(e,t){e.exports=c},function(e,t){e.exports=d},function(e,t){e.exports=f}])}));