/**-----------------------------------------------------------------------------------------
* Copyright Â© 2020 Progress Software Corporation. All rights reserved.
* Licensed under commercial license. See LICENSE.md in the project root for more information
*-------------------------------------------------------------------------------------------*/
System.register("@progress/kendo-angular-label",["tslib","@angular/core","@progress/kendo-angular-common","@angular/common","rxjs","@angular/forms","rxjs/operators"],function(r){var a,s,l,c,u,d,p;function t(e){return e.__useDefault?e.default:e}return{setters:[function(e){a=t(e)},function(e){s=t(e)},function(e){l=t(e)},function(e){c=t(e)},function(e){u=t(e)},function(e){d=t(e)},function(e){p=t(e)}],execute:function(){function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,i;i={},o.m=n=[function(e,t){e.exports=s},function(e,t){e.exports=a},function(e,t,n){"use strict";n.r(t),n.d(t,"MessageService",function(){return a}),n.d(t,"ComponentMessages",function(){return s}),n.d(t,"L10N_PREFIX",function(){return c}),n.d(t,"LocalizationService",function(){return u}),n.d(t,"RTL",function(){return l});var o=n(0),i=n(3),r=n(6),a=(f.prototype.notify=function(e){this.changes.next({rtl:e})},f.prototype.get=function(e){},f.decorators=[{type:o.Injectable}],f),s=(Object.defineProperty(p.prototype,"override",{get:function(){return!1},enumerable:!0,configurable:!0}),p.prototype.ngOnChanges=function(t){this.register(t),Object.keys(t).some(function(e){return!t[e].isFirstChange()})&&this.service.notifyChanges()},p.prototype.ngOnInit=function(){var e=this;this.subscription=this.service.changes.pipe(Object(r.skip)(1)).subscribe(function(){return e.register(e)})},p.prototype.register=function(e){var t=this;Object.keys(e).forEach(function(e){return t.service.register(e,t[e],t.override)})},p.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},p),l=new o.InjectionToken("Kendo UI Right-to-Left token"),c=new o.InjectionToken("Localization key prefix"),u=(Object.defineProperty(d.prototype,"rtl",{get:function(){return this._rtl},enumerable:!0,configurable:!0}),d.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},d.prototype.get=function(e){e=this.key(e);return this.dictionary[e]},d.prototype.register=function(e,t,n){void 0===n&&(n=!1);var o=this.key(e),e=t;if(!n){if(this.dictionary.hasOwnProperty(o))return;e=this.defaultValue(o,t)}this.dictionary[o]=e},d.prototype.notifyChanges=function(){this.changes.next({rtl:this.rtl})},d.prototype.key=function(e){return this.prefix+"."+e},d.prototype.defaultValue=function(e,t){if(!this.messageService)return t;e=this.messageService.get(e);return void 0===e?t:e},d.decorators=[{type:o.Injectable}],d.ctorParameters=function(){return[{type:String,decorators:[{type:o.Inject,args:[c]}]},{type:a,decorators:[{type:o.Optional}]},{type:Boolean,decorators:[{type:o.Optional},{type:o.Inject,args:[l]}]}]},d);function d(e,t,n){var o=this;this.prefix=e,this.messageService=t,this._rtl=n,this.changes=new i.BehaviorSubject({rtl:this._rtl}),this.dictionary={},t&&(this.subscription=t.changes.pipe(Object(r.map)(function(e){e=e.rtl;return void 0!==e?e:o._rtl}),Object(r.tap)(function(e){return o._rtl=e})).subscribe(function(e){o.dictionary={},o.changes.next({rtl:e})}))}function p(){}function f(){this.changes=new i.Subject}},function(e,t){e.exports=u},function(e,t){e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(14),r=n(0),a=n(4),r=(Object.defineProperty(s.prototype,"labelFor",{get:function(){if("string"==typeof this.for)return this.for;if(!a.isDocumentAvailable())return null;var e=this.getFocusableComponent()||{};return e.focusableId||e.id||null},enumerable:!0,configurable:!0}),s.prototype.ngAfterViewInit=function(){var e=this;this.setAriaLabelledby(),this.zone.runOutsideAngular(function(){return e.clickListener=e.renderer.listen(e.label.nativeElement,"click",e.handleClick)})},s.prototype.ngOnDestroy=function(){this.clickListener&&this.clickListener()},s.prototype.setAriaLabelledby=function(){var e,t,n;!a.isDocumentAvailable()||(n=this.getFocusableComponent())&&n.focusableId&&((e=i.getRootElement(this.label.nativeElement).querySelector("#"+n.focusableId))&&(n=(t=this.label.nativeElement).id||"k-"+a.guid(),t.getAttribute("id")||this.renderer.setAttribute(t,"id",n),this.renderer.setAttribute(e,"aria-labelledby",n)))},s.prototype.getFocusableComponent=function(){var e=this.for;return e&&void 0!==e.focus?e:null},o.__decorate([r.Input(),o.__metadata("design:type",Object)],s.prototype,"for",void 0),o.__decorate([r.HostBinding("attr.for"),o.__metadata("design:type",String),o.__metadata("design:paramtypes",[])],s.prototype,"labelFor",null),o.__decorate([r.HostBinding("class.k-label"),o.__metadata("design:type",Boolean)],s.prototype,"labelClass",void 0),o.__decorate([r.Directive({selector:"label[for]"}),o.__metadata("design:paramtypes",[r.ElementRef,r.Renderer2,r.NgZone])],s));function s(e,t,n){var o=this;this.label=e,this.renderer=t,this.zone=n,this.labelClass=!0,this.handleClick=function(){var e=o.getFocusableComponent();e&&(i.isUploadComponent(e)&&e.fileSelect.nativeElement.click(),e.focus&&e.focus(),i.shouldClickComponent(e,o.label.nativeElement)&&e.click())}}t.LabelDirective=r},function(e,t){e.exports=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(3),a=n(2),s=n(4),l=n(5),c=n(14),a=(u.prototype.ngAfterContentInit=function(){if(this.for)this.control=this.for;else{var e=c.getNativeInputContent(this.elementRef.nativeElement);if(e)return e.hasAttribute("id")||this.renderer.setAttribute(e,"id","k-"+s.guid()),void(this.control=e);this.control=this.kendoInput}},u.prototype.ngOnInit=function(){var t=this;this.subscriptions.add(this.localization.changes.subscribe(function(e){e=e.rtl;t.direction=e?"rtl":"ltr"}))},u.prototype.ngAfterViewInit=function(){this.labelDirective.setAriaLabelledby()},u.prototype.ngOnDestroy=function(){this.subscriptions&&this.subscriptions.unsubscribe()},u.prototype.textFor=function(e){return this.localization.get(e)},o.__decorate([i.HostBinding("attr.dir"),o.__metadata("design:type",String)],u.prototype,"direction",void 0),o.__decorate([i.Input(),o.__metadata("design:type",String)],u.prototype,"text",void 0),o.__decorate([i.Input(),o.__metadata("design:type",Object)],u.prototype,"for",void 0),o.__decorate([i.Input(),o.__metadata("design:type",Boolean)],u.prototype,"optional",void 0),o.__decorate([i.ViewChild(l.LabelDirective,{static:!0}),o.__metadata("design:type",l.LabelDirective)],u.prototype,"labelDirective",void 0),o.__decorate([i.ContentChild(s.KendoInput,{static:!0}),o.__metadata("design:type",Object)],u.prototype,"kendoInput",void 0),o.__decorate([i.Component({selector:"kendo-label",exportAs:"kendoLabel",providers:[a.LocalizationService,{provide:a.L10N_PREFIX,useValue:"kendo.label"}],template:'\n        <ng-container kendoLabelLocalizedMessages\n            i18n-optional="kendo.label.optional|The text for the optional segment of a Label component"\n            optional="Optional"\n         >\n        </ng-container>\n        <label\n            [for]="control"\n            [class.k-label-empty]="!text">\n            {{ text }}<span *ngIf="optional" class="k-label-optional">({{textFor(\'optional\')}})</span>\n        </label>\n        <ng-content></ng-content>\n    '}),o.__metadata("design:paramtypes",[i.ElementRef,i.Renderer2,a.LocalizationService])],u));function u(e,t,n){this.elementRef=e,this.renderer=t,this.localization=n,this.subscriptions=new r.Subscription,this.direction=n.rtl?"rtl":"ltr",this.renderer.removeAttribute(this.elementRef.nativeElement,"id")}t.LabelComponent=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function o(e){return"[object Function]"===Object.prototype.toString.call(e)}var i=n(1),r=n(0),a=n(2),s=n(16),l=n(4),c=n(15),a=(Object.defineProperty(u.prototype,"focusedClass",{get:function(){return this.focused},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"invalidClass",{get:function(){return this.invalid},enumerable:!0,configurable:!0}),u.prototype.ngAfterContentInit=function(){this.validateSetup();var e=new c.FloatingLabelInputAdapter(this.kendoInput||this.formControl.valueAccessor,this.formControl);this.addHandlers(e),this.setLabelFor(e)},u.prototype.ngAfterViewInit=function(){this.kendoInput&&this.setAriaLabelledby(this.kendoInput)},u.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},u.prototype.textFor=function(e){return this.localization.get(e)},u.prototype.subscribe=function(e,t,n){e[t]instanceof r.EventEmitter&&(n=e[t].subscribe(n),this.subscription?this.subscription.add(n):this.subscription=n)},u.prototype.updateState=function(){function e(e){return!(0===e||!1===e||(!Array.isArray(e)||e.length)&&e)}var t,n=this.formControl;n?(t=n.valueAccessor,o(t.isEmpty)?this.empty=t.isEmpty():this.empty=e(n.value),this.invalid=n.invalid&&(n.touched||n.dirty)):this.empty=o(this.kendoInput.isEmpty)?this.kendoInput.isEmpty():e(this.kendoInput.value),this.empty?this.renderer.addClass(this.elementRef.nativeElement,"k-state-empty"):this.renderer.removeClass(this.elementRef.nativeElement,"k-state-empty"),this.changeDetectorRef.markForCheck()},u.prototype.setAriaLabelledby=function(e){e=e.focusableId||e.id;e&&(e=this.elementRef.nativeElement.querySelector("#"+e),this.renderer.setAttribute(e,"aria-labelledby",this.labelId))},u.prototype.setLabelFor=function(e){var t=e.focusableId||e.id;this.id&&t?this.id=t:this.id?e.focusableId=this.id:t?this.id=t:(t="k-"+l.guid(),e.focusableId=t,this.id=t)},u.prototype.handleAutofill=function(e){var t=this;this.subscribe(e,"autoFillStart",function(){t.autoFillStarted=!0,t.renderer.removeClass(t.elementRef.nativeElement,"k-state-empty")}),this.subscribe(e,"autoFillEnd",function(){t.autoFillStarted&&(t.autoFillStarted=!1,t.empty&&t.renderer.addClass(t.elementRef.nativeElement,"k-state-empty"))})},u.prototype.addHandlers=function(e){var t=this,n=function(e){return function(){t.focused=e,t.updateState()}};this.subscribe(e,"onFocus",n(!0)),this.subscribe(e,"onBlur",n(!1)),this.handleAutofill(e);n=function(){return t.updateState()};n(),this.subscribe(e,"onValueChange",n)},u.prototype.validateSetup=function(){if(!this.formControl&&!this.kendoInput&&r.isDevMode())throw new Error("The FloatingLabelComponent requires a Kendo Input component or a forms-bound component to function properly.")},i.__decorate([r.HostBinding("class.k-floating-label-container"),i.__metadata("design:type",Boolean)],u.prototype,"hostClasses",void 0),i.__decorate([r.HostBinding("class.k-state-focused"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],u.prototype,"focusedClass",null),i.__decorate([r.HostBinding("class.k-state-invalid"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],u.prototype,"invalidClass",null),i.__decorate([r.HostBinding("attr.dir"),i.__metadata("design:type",String)],u.prototype,"direction",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],u.prototype,"id",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],u.prototype,"text",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Boolean)],u.prototype,"optional",void 0),i.__decorate([r.ContentChild(l.KendoInput),i.__metadata("design:type",Object)],u.prototype,"kendoInput",void 0),i.__decorate([r.ContentChild(s.NgControl),i.__metadata("design:type",s.NgControl)],u.prototype,"formControl",void 0),i.__decorate([r.Component({selector:"kendo-floatinglabel",exportAs:"kendoFloatingLabel",providers:[a.LocalizationService,{provide:a.L10N_PREFIX,useValue:"kendo.floatinglabel"}],template:'\n        <ng-container kendoFloatingLabelLocalizedMessages\n            i18n-optional="kendo.floatinglabel.optional|The text for the optional segment of a FloatingLabel component"\n            optional="Optional"\n         >\n        </ng-container>\n        <ng-content></ng-content>\n        <label *ngIf="text" [for]="id" [attr.id]="labelId" class="k-label">\n            {{ text }}<span *ngIf="optional" class="k-label-optional">({{textFor(\'optional\')}})</span>\n        </label>\n    '}),i.__metadata("design:paramtypes",[r.ElementRef,r.Renderer2,r.ChangeDetectorRef,a.LocalizationService])],u));function u(e,t,n,o){this.elementRef=e,this.renderer=t,this.changeDetectorRef=n,this.localization=o,this.hostClasses=!0,this.focused=!1,this.empty=!0,this.invalid=!1,this.labelId="k-"+l.guid(),this.autoFillStarted=!1,this.direction=o.rtl?"rtl":"ltr",this.renderer.removeAttribute(this.elementRef.nativeElement,"id")}t.FloatingLabelComponent=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(10),a=n(13),n=[n(8).FloatingLabelComponent],a=o.__decorate([i.NgModule({declarations:n.slice(),exports:n.concat([a.SharedDirectivesModule]),imports:[r.CommonModule,a.SharedDirectivesModule]})],function(){});t.FloatingLabelModule=a},function(e,t){e.exports=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i,r=n(1),a=n(0),s=n(2),n=n(12),s=(o=n.Messages,r.__extends(l,o),i=l,Object.defineProperty(l.prototype,"override",{get:function(){return!0},enumerable:!0,configurable:!0}),i=r.__decorate([a.Component({providers:[{provide:n.Messages,useExisting:a.forwardRef(function(){return i})}],selector:"kendo-label-messages, kendo-floatinglabel-messages",template:""}),r.__metadata("design:paramtypes",[s.LocalizationService])],l));function l(e){var t=o.call(this)||this;return t.service=e,t}t.CustomMessagesComponent=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),i=(o=n(2).ComponentMessages,i.__extends(a,o),i.__decorate([r.Input(),i.__metadata("design:type",String)],a.prototype,"optional",void 0),a);function a(){return null!==o&&o.apply(this,arguments)||this}t.Messages=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(17),n=n(11),n=[r.LocalizedMessagesDirective,n.CustomMessagesComponent],n=o.__decorate([i.NgModule({declarations:[n],exports:[n]})],function(){});t.SharedDirectivesModule=n},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isUploadComponent=function(e){return e.wrapper&&"KENDO-UPLOAD"===e.wrapper.tagName},n.getNativeInputContent=function(e){return e.querySelector("kendo-label > input, kendo-label > textarea, kendo-label > select")},n.isActiveCheckboxOrRadio=function(e){return e instanceof HTMLInputElement&&/^(checkbox|radio)$/.test(e.type)&&!e.hidden},n.isNestedOrAssociated=function(e,t){return e.parentElement===t||t.hasAttribute("for")},n.shouldClickComponent=function(e,t){return n.isActiveCheckboxOrRadio(e)&&!n.isNestedOrAssociated(e,t)},n.getRootElement=function(e){if(!e)return null;for(var t=e;t.parentElement;)t=t.parentElement;return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(0),n=(Object.defineProperty(r.prototype,"focusableId",{get:function(){var e=this.component;return"focusableId"in e?e.focusableId:"id"in e?e.id:""},set:function(e){var t=this.component;"focusableId"in t?t.focusableId=e:"id"in t&&(t.id=e)},enumerable:!0,configurable:!0}),r);function r(e,t){function n(e){return e instanceof o.Observable||e instanceof i.EventEmitter}n((this.component=e).onFocus)&&(this.onFocus=e.onFocus),n(e.autoFillStart)&&(this.autoFillStart=e.autoFillStart),n(e.autoFillEnd)&&(this.autoFillEnd=e.autoFillEnd),n(e.onBlur)&&(this.onBlur=e.onBlur),t?this.onValueChange=t.valueChanges:e.onValueChange&&(this.onValueChange=e.onValueChange)}t.FloatingLabelInputAdapter=n},function(e,t){e.exports=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i,r=n(1),a=n(0),s=n(2),n=n(12),s=(o=n.Messages,r.__extends(l,o),i=l,i=r.__decorate([a.Directive({providers:[{provide:n.Messages,useExisting:a.forwardRef(function(){return i})}],selector:"\n      [kendoLabelLocalizedMessages],\n      [kendoFloatingLabelLocalizedMessages]\n    "}),r.__metadata("design:paramtypes",[s.LocalizationService])],l));function l(e){var t=o.call(this)||this;return t.service=e,t}t.LocalizedMessagesDirective=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(13),r=n(10),a=n(0),s=n(9),l=n(5),n=n(7),n=[l.LabelDirective,n.LabelComponent],i=o.__decorate([a.NgModule({imports:[r.CommonModule,i.SharedDirectivesModule],declarations:n.slice(),exports:n.concat([s.FloatingLabelModule,i.SharedDirectivesModule])})],function(){});t.LabelModule=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5);t.LabelDirective=o.LabelDirective;o=n(18);t.LabelModule=o.LabelModule;o=n(9);t.FloatingLabelModule=o.FloatingLabelModule;o=n(8);t.FloatingLabelComponent=o.FloatingLabelComponent;o=n(7);t.LabelComponent=o.LabelComponent;n=n(11);t.CustomMessagesComponent=n.CustomMessagesComponent,function(e){for(var t in e)r(t,e[t])}(t)}],o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=19)}}});