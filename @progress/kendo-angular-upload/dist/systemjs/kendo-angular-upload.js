/**-----------------------------------------------------------------------------------------
* Copyright Â© 2020 Progress Software Corporation. All rights reserved.
* Licensed under commercial license. See LICENSE.md in the project root for more information
*-------------------------------------------------------------------------------------------*/
System.register("@progress/kendo-angular-upload",["tslib","@angular/core","@progress/kendo-angular-l10n","@angular/forms","@progress/kendo-angular-common","rxjs","rxjs/operators","@angular/animations","@angular/common/http","@angular/common"],function(a){var s,r,l,d,u,p,c,f,h,m;function t(e){return e.__useDefault?e.default:e}return{setters:[function(e){s=t(e)},function(e){r=t(e)},function(e){l=t(e)},function(e){d=t(e)},function(e){u=t(e)},function(e){p=t(e)},function(e){c=t(e)},function(e){f=t(e)},function(e){h=t(e)},function(e){m=t(e)}],execute:function(){function n(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var i,o;o={},n.m=i=[function(e,t){e.exports=s},function(e,t){e.exports=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i=i(33);t.FileState=i.FileState},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),a=i(34),o=i(1),s=i(2),r=i(32),l=i(31),d=i(5),u=i(44),n=(Object.defineProperty(p.prototype,"files",{get:function(){return this.fileList},enumerable:!0,configurable:!0}),p.prototype.setChunkSettings=function(e){!1!==e&&(this.async.chunk=!0,"object"==typeof e&&(this.chunk=Object.assign({},this.chunk,e)))},p.prototype.onChange=function(){var e=this.fileList.filesFlat.filter(function(e){return e.state===s.FileState.Initial||e.state===s.FileState.Uploaded});this.changeEvent.emit(0<e.length?e:null)},p.prototype.addFiles=function(e){var t=new l.SelectEvent(e);if(this.selectEvent.emit(t),!t.isDefaultPrevented()){for(var i=0,n=e;i<n.length;i++){var o=n[i];this.fileList.add(o)}this.async.autoUpload&&this.uploadFiles()}"FileSelect"===this.component&&(e=this.fileList.filesFlat,this.changeEvent.emit(0<e.length?e:null))},p.prototype.addInitialFiles=function(e){var t=this;this.fileList.clear(),e.forEach(function(e){e=d.getInitialFileInfo(e);t.fileList.add(e)})},p.prototype.addInitialFileSelectFiles=function(e){var t=this;this.fileList.clear(),e.forEach(function(e){e instanceof File?t.fileList.add(d.convertFileToFileInfo(e)):t.fileList.add(d.getInitialFileInfo(e))})},p.prototype.resumeFile=function(e){var t=this.fileList.get(e);this.resumeEvent.emit(new l.ResumeEvent(t[0])),this.fileList.setFilesStateByUid(e,s.FileState.Uploading),this._uploadFiles([t])},p.prototype.pauseFile=function(e){var t=this.fileList.get(e)[0];this.pauseEvent.emit(new l.PauseEvent(t)),this.fileList.setFilesStateByUid(e,s.FileState.Paused)},p.prototype.removeFiles=function(e){var t=this.fileList.get(e),i=new l.RemoveEvent(t,this.cloneRequestHeaders(this.async.removeHeaders));this.removeEvent.emit(i),i.isDefaultPrevented()||("Upload"!==this.component||t[0].state!==s.FileState.Uploaded&&t[0].state!==s.FileState.Initial?(this.fileList.remove(e),"FileSelect"===this.component&&(e=this.fileList.filesFlat,this.changeEvent.emit(0<e.length?e:null))):this.performRemove(t,i))},p.prototype.cancelFiles=function(e){var t=this.fileList.get(e),i=new l.CancelEvent(t);this.cancelEvent.emit(i);for(var n=0,o=t;n<o.length;n++){var a=o[n];a.httpSubscription&&a.httpSubscription.unsubscribe()}this.fileList.remove(e),this.checkAllComplete()},p.prototype.clearFiles=function(){var e=new l.ClearEvent;this.clearEvent.emit(e),e.isDefaultPrevented()||(e=this.fileList.hasFileWithState([s.FileState.Initial,s.FileState.Uploaded]),this.fileList.clear(),e&&this.onChange())},p.prototype.uploadFiles=function(){var e=[];this.async.concurrent&&(e=this.fileList.filesToUpload),this.async.concurrent||this.fileList.hasFileWithState([s.FileState.Uploading])||(e=[this.fileList.firstFileToUpload]),e&&0<e.length&&this._uploadFiles(e)},p.prototype.retryFiles=function(e){e=[this.fileList.get(e)];this._uploadFiles(e)},p.prototype._uploadFiles=function(e){for(var n=this,t=0,i=e;t<i.length;t++){var o=function(e){if(e[0].state===s.FileState.Paused)return{value:void 0};var t,i=new l.UploadEvent(e,n.cloneRequestHeaders(n.async.saveHeaders));n.uploadEvent.emit(i),i.isDefaultPrevented()?n.fileList.remove(e[0].uid):(n.fileList.setFilesState(e,s.FileState.Uploading),t=n.performUpload(e,i),e.forEach(function(e){e.httpSubscription=t}))}(i[t]);if("object"==typeof o)return o.value}},p.prototype.performRemove=function(t,e){var i=this,n=this.async,o=t.map(function(e){return e.name}),o=this.populateRemoveFormData(o,e.data),e=this.populateRequestOptions(e.headers),e=new a.HttpRequest(n.removeMethod,n.removeUrl,o,e);this.http.request(e).subscribe(function(e){i.onSuccess(e,t,"remove")},function(e){i.onError(e,t,"remove")})},p.prototype.performUpload=function(t,e){var i=this,n=this.async,o=this.populateUploadFormData(t,e.data),e=this.populateRequestOptions(e.headers),e=new a.HttpRequest(n.saveMethod,n.saveUrl,o,e);return this.http.request(e).subscribe(function(e){e.type!==a.HttpEventType.UploadProgress||i.async.chunk?e instanceof a.HttpResponse&&(i.onSuccess(e,t,"upload"),i.checkAllComplete()):i.onProgress(e,t)},function(e){i.onError(e,t,"upload"),i.checkAllComplete()})},p.prototype.onSuccess=function(e,t,i){if("upload"===i&&this.async.chunk){if(this.onChunkProgress(t),!this.isChunkUploadComplete(t[0].uid))return this.updateChunkInfo(t[0].uid),void this._uploadFiles([t]);this.removeChunkInfo(t[0].uid)}e=new l.SuccessEvent(t,i,e);this.successEvent.emit(e),"upload"===i?this.fileList.setFilesState(t,e.isDefaultPrevented()?s.FileState.Failed:s.FileState.Uploaded):e.isDefaultPrevented()||this.fileList.remove(t[0].uid),e.isDefaultPrevented()||this.onChange()},p.prototype.onError=function(e,t,i){var n=this;if("upload"===i&&this.async.chunk){var o=this.chunk.maxAutoRetries,a=this.chunkMap.get(t[0].uid);if(a.retries<o)return a.retries+=1,void setTimeout(function(){n.retryFiles(t[0].uid)},this.chunk.autoRetryAfter)}e=new l.ErrorEvent(t,i,e);this.errorEvent.emit(e),"upload"===i&&this.fileList.setFilesState(t,s.FileState.Failed)},p.prototype.onProgress=function(e,t){e=Math.round(100*e.loaded/e.total),e=new l.UploadProgressEvent(t,e<100?e:100);this.uploadProgressEvent.emit(e)},p.prototype.onChunkProgress=function(e){var t=this.chunkMap.get(e[0].uid),i=0;t&&(i=t.index===t.totalChunks-1?100:Math.round((t.index+1)/t.totalChunks*100));i=new l.UploadProgressEvent(e,i<100?i:100);this.uploadProgressEvent.emit(i)},p.prototype.checkAllComplete=function(){this.fileList.hasFileWithState([s.FileState.Selected,s.FileState.Uploading,s.FileState.Paused])?this.shouldUploadNextFile()&&this.uploadFiles():this.completeEvent.emit()},p.prototype.shouldUploadNextFile=function(){return!this.async.concurrent&&this.fileList.hasFileWithState([s.FileState.Selected])&&!this.fileList.hasFileWithState([s.FileState.Uploading])},p.prototype.cloneRequestHeaders=function(t){var i={};return t&&t.keys().forEach(function(e){i[e]=t.get(e)}),new a.HttpHeaders(i)},p.prototype.populateRequestOptions=function(e){return{headers:e,reportProgress:!0,responseType:this.async.responseType,withCredentials:this.async.withCredentials}},p.prototype.populateUploadFormData=function(e,t){var i=this.async.saveField,n=new FormData;if(this.populateClientFormData(n,t),this.async.chunk)n.append(i,this.getNextChunk(e[0])),n.append("metadata",this.getChunkMetadata(e[0]));else for(var o=0,a=e;o<a.length;o++){var s=a[o];n.append(i,s.rawFile)}return n},p.prototype.populateRemoveFormData=function(e,t){var i=new FormData;this.populateClientFormData(i,t);for(var n=0,o=e;n<o.length;n++){var a=o[n];i.append(this.async.removeField,a)}return i},p.prototype.populateClientFormData=function(e,t){for(var i in t)t.hasOwnProperty(i)&&e.append(i,t[i])},p.prototype.getNextChunk=function(e){var t=this.getChunkInfo(e),i=t.position+this.chunk.size;return e.rawFile.slice(t.position,i)},p.prototype.getChunkInfo=function(e){var t,i=this.chunkMap.get(e.uid);return i||(t=Math.ceil(e.size/this.chunk.size),i=this.chunkMap.add(e.uid,t)),i},p.prototype.updateChunkInfo=function(e){e=this.chunkMap.get(e);e.index<e.totalChunks-1&&(e.index+=1,e.position+=this.chunk.size,e.retries=0)},p.prototype.removeChunkInfo=function(e){this.chunkMap.remove(e)},p.prototype.getChunkMetadata=function(e){var t=this.chunkMap.get(e.uid),t={chunkIndex:t.index,contentType:e.rawFile.type,fileName:e.name,fileSize:e.size,fileUid:e.uid,totalChunks:t.totalChunks};return JSON.stringify(t)},p.prototype.isChunkUploadComplete=function(e){e=this.chunkMap.get(e);return!!e&&e.index+1===e.totalChunks},n.__decorate([o.Injectable(),n.__metadata("design:paramtypes",[a.HttpClient])],p));function p(e){this.http=e,this.cancelEvent=new o.EventEmitter,this.clearEvent=new o.EventEmitter,this.completeEvent=new o.EventEmitter,this.errorEvent=new o.EventEmitter,this.pauseEvent=new o.EventEmitter,this.removeEvent=new o.EventEmitter,this.resumeEvent=new o.EventEmitter,this.selectEvent=new o.EventEmitter,this.successEvent=new o.EventEmitter,this.uploadEvent=new o.EventEmitter,this.uploadProgressEvent=new o.EventEmitter,this.changeEvent=new o.EventEmitter,this.async={autoUpload:!0,batch:!1,chunk:!1,concurrent:!0,removeField:"fileNames",removeHeaders:new a.HttpHeaders,removeMethod:"POST",removeUrl:"",responseType:"json",saveField:"files",saveHeaders:new a.HttpHeaders,saveMethod:"POST",saveUrl:"",withCredentials:!0},this.chunk={autoRetryAfter:100,size:1048576,maxAutoRetries:1,resumable:!0},this.component="Upload",this.chunkMap=new u.ChunkMap,this.fileList=new r.FileMap}t.UploadService=n},function(e,t){e.exports=l},function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t(2),a=t(9),i=t(45);o.getTotalFilesSizeMessage=function(e){var t,i=0;if("number"!=typeof e[0].size)return"";for(t=0;t<e.length;t++)e[t].size&&(i+=e[t].size);return(i/=1024)<1024?i.toFixed(2)+" KB":(i/1024).toFixed(2)+" MB"};function s(e){return(e=e.match(/\.([^\.]+)$/))?e[0]:""}o.validateInitialFileInfo=function(e){return!!(e instanceof Object&&e.hasOwnProperty("name"))},o.validateInitialFileSelectFile=function(e){return!!(e instanceof File||o.validateInitialFileInfo(e))},o.getInitialFileInfo=function(e){return e.extension=e.extension||s(e.name),e.name=e.name,e.size=e.size||0,e.hasOwnProperty("state")||(e.state=n.FileState.Initial),e.hasOwnProperty("uid")||(e.uid=a.guid()),e},o.convertFileToFileInfo=function(e){e=r(e);return e.uid=a.guid(),e.state=n.FileState.Selected,e};var r=function(e){var t=e.name,i=e.size;return{extension:s(t),name:t,rawFile:e,size:i,state:n.FileState.Selected}};o.getAllFileInfo=function(e){for(var t=new Array,i=0;i<e.length;i++)t.push(r(e[i]));return t},o.fileHasValidationErrors=function(e){return!!(e.validationErrors&&0<e.validationErrors.length)},o.filesHaveValidationErrors=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];if(o.fileHasValidationErrors(n))return!0}return!1},o.inputFiles=function(e){return e.files?o.getAllFileInfo(e.files):e.value.split("|").map(function(e,t){var i=e.trim();return{extension:s(i),name:-1!==(i=(e=i).lastIndexOf("\\"))?e.substr(i+1):e,rawFile:null,size:1e3*(t+1),state:n.FileState.Selected}})},o.assignGuidToFiles=function(e,t){var i=a.guid();return e.map(function(e){return e.uid=t?a.guid():i,e})},o.supportsFormData=function(){return"undefined"!=typeof FormData},o.userAgent=function(){return navigator.userAgent};var l=/^(?:a|input|select|textarea|button|object)$/i;o.IGNORE_TARGET_CLASSES="k-icon k-select k-input k-multiselect-wrap",o.UPLOAD_CLASSES="k-upload-button k-clear-selected k-upload-selected k-upload-action";function d(e){return String(e).trim().split(" ")}o.hasClasses=function(e,t){var i=d(t);return Boolean(d(e.className).find(function(e){return 0<=i.indexOf(e)}))},o.isFocusable=function(e,t){if(void 0===t&&(t=!0),e.tagName){var i=e.tagName.toLowerCase(),n=e.getAttribute("tabIndex"),n=null!==n&&!isNaN(n)&&-1<n;return!((l.test(i)?e.disabled:!n)||t&&(!(e=(t=e).getBoundingClientRect()).width||!e.height||"hidden"===window.getComputedStyle(t).visibility))}return!1},o.getFileGroupCssClass=function(e){for(var t in i.fileGroupMap)if(0<=i.fileGroupMap[t].indexOf(e))return"k-i-file-"+t;return"k-i-file"},o.isPresent=function(e){return null!=e}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(3),s=i(9),a=(r.prototype.action=function(e){e=e.keyCode;return this.keyBindings[e]},r.prototype.process=function(e){var t=this.action(e);t&&t(e.shiftKey)},r.prototype.computeKeys=function(e){var t,i=this;this.keyBindings=((t={})[s.Keys.Enter]=function(){return i.handleEnter()},t[s.Keys.Escape]=function(){return i.handleEscape()},t[s.Keys.Delete]=function(){return i.handleDelete()},t[s.Keys.Tab]=function(e){return i.handleTab(e)},t[s.Keys.ArrowUp]=function(){return i.handleUp()},t[s.Keys.ArrowDown]=function(){return i.handleDown()},t[this.invertKeys(e,s.Keys.ArrowLeft,s.Keys.ArrowRight)]=function(){return i.handleLeft()},t[this.invertKeys(e,s.Keys.ArrowRight,s.Keys.ArrowLeft)]=function(){return i.handleRight()},t)},r.prototype.invertKeys=function(e,t,i){return"rtl"===e?i:t},r.prototype.focusSelectButton=function(){this.focused=!0,this._focusedIndex=-1,this.onSelectButtonFocus.emit()},r.prototype.handleEnter=function(){0<=this.lastIndex&&(this.focusedIndex<=this.lastFileIndex?this.onFileAction.emit(s.Keys.Enter):this.actionButtonsVisible&&this.focusedIndex<=this.lastIndex&&this.onActionButtonAction.emit(this.focusedIndex<this.lastIndex?"clear":"upload"))},r.prototype.handleDelete=function(){0<=this.focusedIndex&&this.focusedIndex<=this.lastFileIndex&&this.onFileAction.emit(s.Keys.Delete)},r.prototype.handleEscape=function(){0<=this.focusedIndex&&this.focusedIndex<=this.lastFileIndex&&this.onFileAction.emit(s.Keys.Escape)},r.prototype.handleLeft=function(){this.actionButtonsVisible&&this.focusedIndex===this.lastIndex&&(--this.focusedIndex,this.onActionButtonFocus.emit("clear"))},r.prototype.handleRight=function(){this.actionButtonsVisible&&this.focusedIndex===this.lastIndex-1&&(this.focusedIndex+=1,this.onActionButtonFocus.emit("upload"))},r.prototype.handleTab=function(e){0<=this.focusedIndex&&e?this.focusedIndex=-1:this.onTab.emit()},r.prototype.handleDown=function(){if(0<=this.lastIndex&&this.focusedIndex<this.lastIndex){if(this.focusedIndex<this.lastFileIndex)return this.focusedIndex+=1,void this.onFileFocus.emit(this.focusedIndex);this.actionButtonsVisible&&this.focusedIndex===this.lastFileIndex&&(this.focusedIndex+=1,this.onActionButtonFocus.emit("clear"))}},r.prototype.handleUp=function(){0<=this.lastIndex&&-1<this.focusedIndex&&(--this.focusedIndex,-1!==this.focusedIndex?this.focusedIndex<=this.lastFileIndex?this.onFileFocus.emit(this.focusedIndex):this.actionButtonsVisible&&this.focusedIndex<=this.lastIndex&&(this.focusedIndex=this.lastFileIndex,this.onFileFocus.emit(this.focusedIndex)):this.onSelectButtonFocus.emit())},Object.defineProperty(r.prototype,"focusedIndex",{get:function(){return this._focusedIndex},set:function(e){this.focused||this.onWrapperFocus.emit(),this._focusedIndex=e,this.focused=!0,0<=this._focusedIndex&&this._focusedIndex<=this.lastFileIndex&&this.onFileFocus.emit(e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lastFileIndex",{get:function(){return this.actionButtonsVisible?this.lastIndex-2:this.lastIndex},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lastIndex",{get:function(){var e=this.uploadService.files.count;return this.actionButtonsVisible?e+1:e-1},enumerable:!0,configurable:!0}),n.__decorate([o.Injectable(),n.__metadata("design:paramtypes",[a.UploadService])],r));function r(e){this.uploadService=e,this.onActionButtonAction=new o.EventEmitter,this.onActionButtonFocus=new o.EventEmitter,this.onFileAction=new o.EventEmitter,this.onFileFocus=new o.EventEmitter,this.onTab=new o.EventEmitter,this.onWrapperFocus=new o.EventEmitter,this.onSelectButtonFocus=new o.EventEmitter,this.actionButtonsVisible=!1,this.focused=!1,this._focusedIndex=-1}t.NavigationService=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),i=i(1),i=n.__decorate([i.Directive({selector:"[kendoUploadFileTemplate], [kendoFileSelectFileTemplate]"}),n.__metadata("design:paramtypes",[i.TemplateRef])],function(e){this.templateRef=e});t.FileTemplateDirective=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(o.prototype.preventDefault=function(){this.prevented=!0},o.prototype.isDefaultPrevented=function(){return this.prevented},o);function o(){this.prevented=!1}t.PreventableEvent=n},function(e,t){e.exports=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(34),d=i(1),a=i(37),u=i(9),s=i(4),r=i(36),l=i(35),p=i(2),c=i(6),f=i(7),h=i(3),m=i(5),i=i(12);t.UPLOAD_VALUE_ACCESSOR={multi:!0,provide:a.NG_VALUE_ACCESSOR,useExisting:d.forwardRef(function(){return g})};var v,g=(v=_,Object.defineProperty(_.prototype,"autoUpload",{get:function(){return this.uploadService.async.autoUpload},set:function(e){this.uploadService.async.autoUpload=e},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"batch",{get:function(){return this.uploadService.async.batch},set:function(e){this.uploadService.async.batch=e},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"withCredentials",{get:function(){return this.uploadService.async.withCredentials},set:function(e){this.uploadService.async.withCredentials=e},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"saveField",{get:function(){return this.uploadService.async.saveField},set:function(e){this.uploadService.async.saveField=e},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"saveHeaders",{get:function(){return this.uploadService.async.saveHeaders},set:function(e){this.uploadService.async.saveHeaders=e},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"saveMethod",{get:function(){return this.uploadService.async.saveMethod},set:function(e){this.uploadService.async.saveMethod=e},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"saveUrl",{get:function(){return this.uploadService.async.saveUrl},set:function(e){this.uploadService.async.saveUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"responseType",{get:function(){return this.uploadService.async.responseType},set:function(e){this.uploadService.async.responseType=e},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"removeField",{get:function(){return this.uploadService.async.removeField},set:function(e){this.uploadService.async.removeField=e},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"removeHeaders",{get:function(){return this.uploadService.async.removeHeaders},set:function(e){this.uploadService.async.removeHeaders=e},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"removeMethod",{get:function(){return this.uploadService.async.removeMethod},set:function(e){this.uploadService.async.removeMethod=e},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"removeUrl",{get:function(){return this.uploadService.async.removeUrl},set:function(e){this.uploadService.async.removeUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"concurrent",{get:function(){return this.uploadService.async.concurrent},set:function(e){this.uploadService.async.concurrent=e},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"tabIndex",{get:function(){return this.tabindex},set:function(e){this.tabindex=e},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"restrictions",{get:function(){return this._restrictions},set:function(e){e=Object.assign({},this._restrictions,e);this._restrictions=e},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"hostDisabledClass",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),_.prototype.ngOnInit=function(){this.verifySettings(),this.renderer.removeAttribute(this.wrapper,"tabindex"),this.uploadService.setChunkSettings(this.chunkable),this.zoneId&&this.dropZoneService.addComponent(this,this.zoneId)},_.prototype.ngOnChanges=function(e){u.isChanged("chunkable",e)&&("boolean"==typeof(e=e.chunkable.currentValue)&&(this.uploadService.async.chunk=e),"object"==typeof e&&null!==e&&(this.uploadService.async.chunk=!0,this.uploadService.chunk=Object.assign({},this.uploadService.chunk,e)))},_.prototype.ngOnDestroy=function(){this.fileList.clear(),this.blurSubscription&&this.blurSubscription.unsubscribe(),this.wrapperFocusSubscription&&this.wrapperFocusSubscription.unsubscribe(),this.selectButtonFocusSubscription&&this.selectButtonFocusSubscription.unsubscribe(),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.subs&&this.subs.unsubscribe()},_.prototype.handleKeydown=function(e){if(!this.disabled)return e.keyCode!==u.Keys.Enter&&e.keyCode!==u.Keys.Space||e.target!==this.fileSelectButton.nativeElement?void(!m.hasClasses(e.target,m.UPLOAD_CLASSES)&&(m.isFocusable(e.target)||m.hasClasses(e.target,m.IGNORE_TARGET_CLASSES))||this.navigation.process(e)):(e.preventDefault(),void this.fileSelect.nativeElement.click())},_.prototype.writeValue=function(e){var t=!0;e instanceof Array&&(e.forEach(function(e){m.validateInitialFileInfo(e)||(t=!1)}),t&&this.uploadService.addInitialFiles(e)),null===e&&this.fileList.clear(),this.cdr.markForCheck()},_.prototype.registerOnChange=function(e){this.onChangeCallback=e},_.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},_.prototype.setDisabledState=function(e){this.disabled=e},Object.defineProperty(_.prototype,"selectButtonTabIndex",{get:function(){return this.disabled?void 0:this.tabIndex},enumerable:!0,configurable:!0}),_.prototype.onFileSelectButtonFocus=function(e){this.renderer.addClass(this.fileSelectButton.nativeElement,"k-state-focused"),this.navigation.focused||(this.navigation.focusedIndex=-1)},_.prototype.onFileSelectButtonBlur=function(e){this.renderer.removeClass(this.fileSelectButton.nativeElement,"k-state-focused")},Object.defineProperty(_.prototype,"showActionButtons",{get:function(){var e,t,i=!1;return this.autoUpload||(e=0<this.fileList.filesToUpload.length,t=this.fileList.hasFileWithState([p.FileState.Uploading]),this.concurrent&&e&&(i=!0),this.concurrent||!e||t||(i=!0)),this.navigation.actionButtonsVisible=i},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"showTotalStatus",{get:function(){var e=[p.FileState.Uploaded,p.FileState.Uploading,p.FileState.Failed,p.FileState.Paused];return!!this.fileList.hasFileWithState(e)},enumerable:!0,configurable:!0}),_.prototype.textFor=function(e){return this.localization.get(e)},_.prototype.focus=function(){var e=this;setTimeout(function(){e.fileSelectButton.nativeElement.focus()})},_.prototype.focusComponent=function(){this.focus()},_.prototype.blur=function(){this.navigation.focused&&(this.navigation.focused=!1,document.activeElement.blur(),this.onBlur.emit())},_.prototype.blurComponent=function(){this.blur()},_.prototype.pauseFileByUid=function(e){this.uploadService.pauseFile(e)},_.prototype.resumeFileByUid=function(e){this.uploadService.resumeFile(e)},_.prototype.removeFilesByUid=function(e){this.uploadService.removeFiles(e)},_.prototype.retryUploadByUid=function(e){this.uploadService.retryFiles(e)},_.prototype.cancelUploadByUid=function(e){this.uploadService.cancelFiles(e)},_.prototype.uploadFiles=function(){this.fileList.filesToUpload.length&&this.uploadService.uploadFiles()},_.prototype.clearFiles=function(){this.uploadService.clearFiles()},_.prototype.addFiles=function(e){this.uploadService.addFiles(e)},_.prototype.isEmpty=function(){return!1},_.prototype.verifySettings=function(){if(d.isDevMode()&&this.batch&&!1!==this.chunkable)throw new Error("The file chunking functionality requires the batch setting to be disabled.")},_.prototype.subscribeBlur=function(){var t=this;u.isDocumentAvailable()&&this._ngZone.runOutsideAngular(function(){t.documentClick=r.fromEvent(document,"click").pipe(l.filter(function(e){return!(t.wrapper!==e.target&&t.wrapper.contains(e.target))})),t.blurSubscription=r.merge(t.documentClick,t.navigation.onTab).subscribe(function(){t.navigation.focused&&t._ngZone.run(function(){t.navigation.focused=!1,t.onTouchedCallback(),t.onBlur.emit()})})})},_.prototype.subscribeFocus=function(){var e=this;this.wrapperFocusSubscription=this.navigation.onWrapperFocus.subscribe(function(){e.onFocus.emit()}),this.selectButtonFocusSubscription=this.navigation.onSelectButtonFocus.subscribe(function(){e.fileSelectButton.nativeElement.focus()})},_.prototype.attachEventHandlers=function(){var t=this;this.subs=this.uploadService.cancelEvent.subscribe(function(e){t.cancel.emit(e)}),this.subs.add(this.uploadService.changeEvent.subscribe(function(e){t.onChangeCallback(e),t.valueChange.emit(e)})),this.subs.add(this.uploadService.clearEvent.subscribe(function(e){t.clear.emit(e)})),this.subs.add(this.uploadService.completeEvent.subscribe(function(){t.complete.emit()})),this.subs.add(this.uploadService.errorEvent.subscribe(function(e){t.error.emit(e)})),this.subs.add(this.uploadService.pauseEvent.subscribe(function(e){t.pause.emit(e)})),this.subs.add(this.uploadService.removeEvent.subscribe(function(e){t.remove.emit(e)})),this.subs.add(this.uploadService.resumeEvent.subscribe(function(e){t.resume.emit(e)})),this.subs.add(this.uploadService.selectEvent.subscribe(function(e){t.select.emit(e)})),this.subs.add(this.uploadService.successEvent.subscribe(function(e){t.success.emit(e)})),this.subs.add(this.uploadService.uploadEvent.subscribe(function(e){t.upload.emit(e)})),this.subs.add(this.uploadService.uploadProgressEvent.subscribe(function(e){t.uploadProgress.emit(e)}))},n.__decorate([d.Input(),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[Boolean])],_.prototype,"autoUpload",null),n.__decorate([d.Input(),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[Boolean])],_.prototype,"batch",null),n.__decorate([d.Input(),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[Boolean])],_.prototype,"withCredentials",null),n.__decorate([d.Input(),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[String])],_.prototype,"saveField",null),n.__decorate([d.Input(),n.__metadata("design:type",o.HttpHeaders),n.__metadata("design:paramtypes",[o.HttpHeaders])],_.prototype,"saveHeaders",null),n.__decorate([d.Input(),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[String])],_.prototype,"saveMethod",null),n.__decorate([d.Input(),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[String])],_.prototype,"saveUrl",null),n.__decorate([d.Input(),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[String])],_.prototype,"responseType",null),n.__decorate([d.Input(),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[String])],_.prototype,"removeField",null),n.__decorate([d.Input(),n.__metadata("design:type",o.HttpHeaders),n.__metadata("design:paramtypes",[o.HttpHeaders])],_.prototype,"removeHeaders",null),n.__decorate([d.Input(),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[String])],_.prototype,"removeMethod",null),n.__decorate([d.Input(),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[String])],_.prototype,"removeUrl",null),n.__decorate([d.Input(),n.__metadata("design:type",Object)],_.prototype,"chunkable",void 0),n.__decorate([d.Input(),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[Boolean])],_.prototype,"concurrent",null),n.__decorate([d.Input(),n.__metadata("design:type",Boolean)],_.prototype,"multiple",void 0),n.__decorate([d.Input(),n.__metadata("design:type",Boolean)],_.prototype,"disabled",void 0),n.__decorate([d.Input(),n.__metadata("design:type",Boolean)],_.prototype,"showFileList",void 0),n.__decorate([d.Input(),n.__metadata("design:type",Number)],_.prototype,"tabindex",void 0),n.__decorate([d.Input(),n.__metadata("design:type",String)],_.prototype,"zoneId",void 0),n.__decorate([d.Input("tabIndex"),n.__metadata("design:type",Number),n.__metadata("design:paramtypes",[Number])],_.prototype,"tabIndex",null),n.__decorate([d.Input(),n.__metadata("design:type",String)],_.prototype,"accept",void 0),n.__decorate([d.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],_.prototype,"restrictions",null),n.__decorate([d.Input(),n.__metadata("design:type",String)],_.prototype,"focusableId",void 0),n.__decorate([d.Input(),n.__metadata("design:type",String)],_.prototype,"actionsLayout",void 0),n.__decorate([d.ContentChild(f.FileTemplateDirective),n.__metadata("design:type",f.FileTemplateDirective)],_.prototype,"fileTemplate",void 0),n.__decorate([d.ViewChild("fileSelect"),n.__metadata("design:type",d.ElementRef)],_.prototype,"fileSelect",void 0),n.__decorate([d.ViewChild("fileSelectButton"),n.__metadata("design:type",d.ElementRef)],_.prototype,"fileSelectButton",void 0),n.__decorate([d.Output("blur"),n.__metadata("design:type",d.EventEmitter)],_.prototype,"onBlur",void 0),n.__decorate([d.Output(),n.__metadata("design:type",d.EventEmitter)],_.prototype,"cancel",void 0),n.__decorate([d.Output(),n.__metadata("design:type",d.EventEmitter)],_.prototype,"clear",void 0),n.__decorate([d.Output(),n.__metadata("design:type",d.EventEmitter)],_.prototype,"complete",void 0),n.__decorate([d.Output(),n.__metadata("design:type",d.EventEmitter)],_.prototype,"error",void 0),n.__decorate([d.Output("focus"),n.__metadata("design:type",d.EventEmitter)],_.prototype,"onFocus",void 0),n.__decorate([d.Output(),n.__metadata("design:type",d.EventEmitter)],_.prototype,"pause",void 0),n.__decorate([d.Output(),n.__metadata("design:type",d.EventEmitter)],_.prototype,"remove",void 0),n.__decorate([d.Output(),n.__metadata("design:type",d.EventEmitter)],_.prototype,"resume",void 0),n.__decorate([d.Output(),n.__metadata("design:type",d.EventEmitter)],_.prototype,"select",void 0),n.__decorate([d.Output(),n.__metadata("design:type",d.EventEmitter)],_.prototype,"success",void 0),n.__decorate([d.Output(),n.__metadata("design:type",d.EventEmitter)],_.prototype,"upload",void 0),n.__decorate([d.Output(),n.__metadata("design:type",d.EventEmitter)],_.prototype,"uploadProgress",void 0),n.__decorate([d.Output(),n.__metadata("design:type",d.EventEmitter)],_.prototype,"valueChange",void 0),n.__decorate([d.HostBinding("class.k-widget"),d.HostBinding("class.k-upload"),n.__metadata("design:type",Boolean)],_.prototype,"hostDefaultClasses",void 0),n.__decorate([d.HostBinding("class.k-state-disabled"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],_.prototype,"hostDisabledClass",null),n.__decorate([d.HostBinding("attr.dir"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],_.prototype,"dir",null),n.__decorate([d.HostListener("keydown",["$event"]),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],_.prototype,"handleKeydown",null),v=n.__decorate([d.Component({exportAs:"kendoUpload",providers:[s.LocalizationService,c.NavigationService,h.UploadService,i.DropZoneService,t.UPLOAD_VALUE_ACCESSOR,{provide:s.L10N_PREFIX,useValue:"kendo.upload"},{provide:u.KendoInput,useExisting:d.forwardRef(function(){return v})}],selector:"kendo-upload",template:'\n    <ng-container kendoUploadLocalizedMessages\n      i18n-cancel="kendo.upload.cancel|The text for the Cancel button"\n      cancel="Cancel"\n\n      i18n-clearSelectedFiles="kendo.upload.clearSelectedFiles|The text for the Clear button"\n      clearSelectedFiles="Clear"\n\n      i18n-dropFilesHere="kendo.upload.dropFilesHere|The drop zone hint"\n      dropFilesHere="Drop files here to upload"\n\n      i18n-filesBatchStatus="kendo.upload.filesBatchStatus|The status message for a batch of files"\n      filesBatchStatus="files"\n\n      i18n-filesBatchStatusFailed="kendo.upload.filesBatchStatusFailed|The status message for a batch of files after failed upload"\n      filesBatchStatusFailed="files failed to upload."\n\n      i18n-filesBatchStatusUploaded="kendo.upload.filesBatchStatusUploaded|The status message for a batch of files after successful upload"\n      filesBatchStatusUploaded="files successfully uploaded."\n\n      i18n-fileStatusFailed="kendo.upload.fileStatusFailed|The file status message after failed upload"\n      fileStatusFailed="File failed to upload."\n\n      i18n-fileStatusUploaded="kendo.upload.fileStatusUploaded|The file status message after successful upload"\n      fileStatusUploaded="File successfully uploaded."\n\n      i18n-headerStatusPaused="kendo.upload.headerStatusPaused|The header status message when the file upload is paused"\n      headerStatusPaused="Paused"\n\n      i18n-headerStatusUploaded="kendo.upload.headerStatusUploaded|The header status message after file upload completion"\n      headerStatusUploaded="Done"\n\n      i18n-headerStatusUploading="kendo.upload.headerStatusUploading|The header status message during file upload"\n      headerStatusUploading="Uploading..."\n\n      i18n-invalidFileExtension="kendo.upload.invalidFileExtension|The text for the invalid allowed extensions restriction message"\n      invalidFileExtension="File type not allowed."\n\n      i18n-invalidMaxFileSize="kendo.upload.invalidMaxFileSize|The text for the invalid max file size restriction message"\n      invalidMaxFileSize="File size too large."\n\n      i18n-invalidMinFileSize="kendo.upload.invalidMinFileSize|The text for the invalid min file size restriction message"\n      invalidMinFileSize="File size too small."\n\n      i18n-pause="kendo.upload.pause|The text for the Pause button"\n      pause="Pause"\n\n      i18n-remove="kendo.upload.remove|The text for the Remove button"\n      remove="Remove"\n\n      i18n-resume="kendo.upload.resume|The text for the Resume button"\n      resume="Resume"\n\n      i18n-retry="kendo.upload.retry|The text for the Retry button"\n      retry="Retry"\n\n      i18n-select="kendo.upload.select|The text for the Select button"\n      select="Select files..."\n\n      i18n-uploadSelectedFiles="kendo.upload.uploadSelectedFiles|The text for the Upload files button"\n      uploadSelectedFiles="Upload"\n    >\n    </ng-container>\n    <div kendoUploadInternalDropZone\n      [restrictions]="restrictions"\n      [multiple]="multiple"\n      [disabled]="disabled">\n        <div role="button" #fileSelectButton\n             [id]="focusableId"\n             [attr.aria-label]="textFor(\'select\')"\n             [attr.tabindex]="selectButtonTabIndex"\n             (focus)="onFileSelectButtonFocus($event)"\n             (blur)="onFileSelectButtonBlur($event)"\n             class="k-button k-upload-button">\n          <input #fileSelect kendoFileSelect\n            [attr.accept]="accept ? accept : null"\n            [dir]="direction"\n            [restrictions]="restrictions"\n            [multiple]="multiple"\n            [disabled]="disabled" />\n          <span>{{textFor(\'select\')}}</span>\n        </div>\n        <kendo-upload-status-total *ngIf="showTotalStatus"\n          class="k-upload-status k-upload-status-total"\n          [fileList]="fileList">\n        </kendo-upload-status-total>\n        <div class="k-dropzone-hint">{{textFor(\'dropFilesHere\')}}</div>\n    </div>\n    <ul kendo-upload-file-list *ngIf="showFileList && fileList.count > 0"\n        class="k-upload-files k-reset"\n        [disabled]="disabled"\n        [fileList]="fileList.files"\n        [fileTemplate]="fileTemplate">\n    </ul>\n    <kendo-upload-action-buttons\n      *ngIf="showActionButtons"\n      [disabled]="disabled"\n      [actionsLayout]="actionsLayout">\n    </kendo-upload-action-buttons>\n  '}),n.__metadata("design:paramtypes",[h.UploadService,s.LocalizationService,c.NavigationService,i.DropZoneService,d.NgZone,d.Renderer2,d.ChangeDetectorRef,d.ElementRef])],_));function _(e,t,i,n,o,a,s,r){var l=this;this.uploadService=e,this.localization=t,this.navigation=i,this.dropZoneService=n,this._ngZone=o,this.renderer=a,this.cdr=s,this.chunkable=!1,this.multiple=!0,this.disabled=!1,this.showFileList=!0,this.tabindex=0,this.focusableId="k-"+u.guid(),this.actionsLayout="end",this.onBlur=new d.EventEmitter,this.cancel=new d.EventEmitter,this.clear=new d.EventEmitter,this.complete=new d.EventEmitter,this.error=new d.EventEmitter,this.onFocus=new d.EventEmitter,this.pause=new d.EventEmitter,this.remove=new d.EventEmitter,this.resume=new d.EventEmitter,this.select=new d.EventEmitter,this.success=new d.EventEmitter,this.upload=new d.EventEmitter,this.uploadProgress=new d.EventEmitter,this.valueChange=new d.EventEmitter,this.hostDefaultClasses=!0,this._restrictions={allowedExtensions:[],maxFileSize:0,minFileSize:0},this.onTouchedCallback=function(e){},this.onChangeCallback=function(e){},this.fileList=this.uploadService.files,this.localizationChangeSubscription=t.changes.subscribe(function(e){e=e.rtl;l.direction=e?"rtl":"ltr",l.navigation.computeKeys(l.direction)}),this.direction=t.rtl?"rtl":"ltr",this.navigation.computeKeys(this.direction),this.wrapper=r.nativeElement,this.subscribeBlur(),this.subscribeFocus(),this.attachEventHandlers()}t.UploadComponent=g},function(e,d,t){"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.INVALIDMAXFILESIZE="invalidMaxFileSize",d.INVALIDMINFILESIZE="invalidMinFileSize",d.INVALIDFILEEXTENSION="invalidFileExtension";d.validateFiles=function(e,t){for(var i,n,o,a=t.allowedExtensions.map(function(e){return("."===e.substring(0,1)?e:"."+e).toLowerCase()}),s=t.maxFileSize,r=t.minFileSize,l=0;l<e.length;l++)n=e[l],0<(o=a).length&&o.indexOf(n.extension.toLowerCase())<0&&(n.validationErrors=n.validationErrors||[],n.validationErrors.indexOf(d.INVALIDFILEEXTENSION)<0&&n.validationErrors.push(d.INVALIDFILEEXTENSION)),i=e[l],o=s,0!==(n=r)&&i.size<n&&(i.validationErrors=i.validationErrors||[],i.validationErrors.indexOf(d.INVALIDMINFILESIZE)<0&&i.validationErrors.push(d.INVALIDMINFILESIZE)),0!==o&&i.size>o&&(i.validationErrors=i.validationErrors||[],i.validationErrors.indexOf(d.INVALIDMAXFILESIZE)<0&&i.validationErrors.push(d.INVALIDMAXFILESIZE))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),i=i(1),o={},i=(a.prototype.addComponent=function(e,t){this.has(t)?o[t].push(e):o[t]=[e]},a.prototype.getComponents=function(e){return o[e]},a.prototype.has=function(e){return e in o},n.__decorate([i.Injectable()],a));function a(){}t.DropZoneService=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(32),s=i(2),i=i(4),i=(r.prototype.ngDoCheck=function(){this.isPaused=this.fileList.hasFileWithState([s.FileState.Paused]),this.isFailed=this.fileList.hasFileWithState([s.FileState.Failed]),this.isUploading=this.fileList.hasFileWithState([s.FileState.Uploading]),this.isPaused&&!this.isUploading?this.statusText=this.localization.get("headerStatusPaused"):this.statusText=this.isUploading?this.localization.get("headerStatusUploading"):this.localization.get("headerStatusUploaded")},n.__decorate([o.Input(),n.__metadata("design:type",a.FileMap)],r.prototype,"fileList",void 0),n.__decorate([o.Component({selector:"kendo-upload-status-total",template:"\n        <span class=\"k-icon\"\n            [ngClass]=\"{\n                'k-i-checkmark': !this.isUploading && !this.isFailed,\n                'k-i-exception': !this.isUploading && this.isFailed,\n                'k-i-upload': this.isUploading,\n                'k-i-pause-sm': this.isPaused\n            }\">\n        </span>\n        {{statusText}}\n    "}),n.__metadata("design:paramtypes",[i.LocalizationService])],r));function r(e){this.localization=e}t.UploadStatusTotalComponent=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(3),s=i(4),i=i(6),i=(Object.defineProperty(r.prototype,"actionButtonsEndClassName",{get:function(){return"end"===this.actionsLayout},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"actionButtonsStretchedClassName",{get:function(){return"stretched"===this.actionsLayout},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"actionButtonsStartClassName",{get:function(){return"start"===this.actionsLayout},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"actionButtonsCenterClassName",{get:function(){return"center"===this.actionsLayout},enumerable:!0,configurable:!0}),r.prototype.onAction=function(){var t=this;this.actionSubscription=this.navigation.onActionButtonAction.subscribe(function(e){"clear"===e?t.clearFiles():t.performUpload(),t.navigation.focusSelectButton()})},r.prototype.onFocus=function(){var t=this;this.focusSubscription=this.navigation.onActionButtonFocus.subscribe(function(e){t.focusButton(e)})},r.prototype.focusButton=function(e){("clear"===e?this.clearButton:this.uploadButton).nativeElement.focus()},r.prototype.ngOnDestroy=function(){this.actionSubscription.unsubscribe(),this.focusSubscription.unsubscribe()},r.prototype.performUpload=function(e){this.disabled||this.uploadService.uploadFiles()},r.prototype.clearFiles=function(e){this.disabled||this.uploadService.clearFiles()},r.prototype.textFor=function(e){return this.localization.get(e)},n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],r.prototype,"disabled",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],r.prototype,"actionsLayout",void 0),n.__decorate([o.ViewChild("clearButton"),n.__metadata("design:type",o.ElementRef)],r.prototype,"clearButton",void 0),n.__decorate([o.ViewChild("uploadButton"),n.__metadata("design:type",o.ElementRef)],r.prototype,"uploadButton",void 0),n.__decorate([o.HostBinding("class.k-actions"),n.__metadata("design:type",Boolean)],r.prototype,"hostDefaultClass",void 0),n.__decorate([o.HostBinding("class.k-actions-end"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],r.prototype,"actionButtonsEndClassName",null),n.__decorate([o.HostBinding("class.k-actions-stretched"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],r.prototype,"actionButtonsStretchedClassName",null),n.__decorate([o.HostBinding("class.k-actions-start"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],r.prototype,"actionButtonsStartClassName",null),n.__decorate([o.HostBinding("class.k-actions-center"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],r.prototype,"actionButtonsCenterClassName",null),n.__decorate([o.Component({selector:"kendo-upload-action-buttons",template:'\n        <button #clearButton type="button" class="k-button k-clear-selected"\n            [attr.tabIndex]="-1"\n            (click)="clearFiles($event)">\n                {{textFor(\'clearSelectedFiles\')}}\n        </button>\n        <button #uploadButton type="button" class="k-button k-primary k-upload-selected"\n            [attr.tabIndex]="-1"\n            (click)="performUpload($event)">\n                {{textFor(\'uploadSelectedFiles\')}}\n        </button>\n    '}),n.__metadata("design:paramtypes",[a.UploadService,s.LocalizationService,i.NavigationService])],r));function r(e,t,i){this.uploadService=e,this.localization=t,this.navigation=i,this.hostDefaultClass=!0,this.onAction(),this.onFocus()}t.UploadActionButtonsComponent=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(10),s=i(14),r=i(13),i=i(30),r=[a.UploadComponent,s.UploadActionButtonsComponent,r.UploadStatusTotalComponent],i=n.__decorate([o.NgModule({declarations:[r],exports:[i.PUBLIC_DIRECTIVES,r],imports:[i.SharedModule]})],function(){});t.UploadModule=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=i(0),a=i(1),s=i(4),s=(o=i(27).DropZoneBase,n.__extends(r,o),Object.defineProperty(r.prototype,"dirAttribute",{get:function(){return this.direction},enumerable:!0,configurable:!0}),r.prototype.textFor=function(e){return this.localization.get(e)},Object.defineProperty(r.prototype,"iconClasses",{get:function(){return this.icon?"k-icon k-i-"+this.icon:this.iconClass?""+this.iconClass:"k-icon k-i-upload"},enumerable:!0,configurable:!0}),r.prototype.ngOnDestroy=function(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()},n.__decorate([a.HostBinding("class.k-external-dropzone"),n.__metadata("design:type",Boolean)],r.prototype,"hostClass",void 0),n.__decorate([a.HostBinding("attr.dir"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],r.prototype,"dirAttribute",null),n.__decorate([a.Input(),n.__metadata("design:type",String)],r.prototype,"zoneId",void 0),n.__decorate([a.Input(),n.__metadata("design:type",String)],r.prototype,"icon",void 0),n.__decorate([a.Input(),n.__metadata("design:type",String)],r.prototype,"iconClass",void 0),n.__decorate([a.Component({exportAs:"kendoUploadDropZone",providers:[s.LocalizationService,{provide:s.L10N_PREFIX,useValue:"kendo.uploaddropzone"}],selector:"kendo-uploaddropzone",template:"\n    <ng-container kendoUploadDropZoneLocalizedMessages\n      i18n-externalDropFilesHere='kendo.uploaddropzone.externalDropFilesHere|Sets the external drop-zone hint'\n      externalDropFilesHere='Drag and drop files here to upload'\n    >\n    </ng-container>\n    <div class='k-dropzone-inner' [kendoUploadDropZone]=\"zoneId\">\n      <span [ngClass]=\"iconClasses\"></span>\n      <span class=\"k-dropzone-hint\">{{ textFor('externalDropFilesHere') }}</span>\n      <span class=\"k-dropzone-note\">\n        <ng-content></ng-content>\n      </span>\n    </div>\n  "}),n.__metadata("design:paramtypes",[a.ElementRef,a.Renderer2,s.LocalizationService])],r));function r(e,t,i){var n=o.call(this,e,t,"k-external-dropzone-hover")||this;return n.localization=i,n.hostClass=!0,n.localizationChangeSubscription=n.localization.changes.subscribe(function(e){e=e.rtl;n.direction=e?"rtl":"ltr"}),n}t.UploadDropZoneComponent=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(5),s=i(11),r=i(12),l=i(10),r=(d.prototype.onElementDragEnter=function(){return!1},d.prototype.onElementDragOver=function(){return!1},d.prototype.onDropListener=function(i){var e=this.componentInstance;if(a.isPresent(e))return e.forEach(function(e){var t=i.dataTransfer.files;0<t.length&&!e.disabled&&(t=a.getAllFileInfo(t),t=e instanceof l.UploadComponent?a.assignGuidToFiles(t,!e.batch):a.assignGuidToFiles(t,!0),e.multiple||(t.splice(1,t.length-1),e.clearFiles()),s.validateFiles(t,e.restrictions),e.addFiles(t))}),!1},Object.defineProperty(d.prototype,"componentInstance",{get:function(){return this.dropZoneService.getComponents(this.zoneId)},enumerable:!0,configurable:!0}),n.__decorate([o.Input("kendoUploadDropZone"),n.__metadata("design:type",String)],d.prototype,"zoneId",void 0),n.__decorate([o.HostListener("dragenter"),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",Boolean)],d.prototype,"onElementDragEnter",null),n.__decorate([o.HostListener("dragover"),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",Boolean)],d.prototype,"onElementDragOver",null),n.__decorate([o.HostListener("drop",["$event"]),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",Boolean)],d.prototype,"onDropListener",null),n.__decorate([o.Directive({providers:[r.DropZoneService],selector:"[kendoUploadDropZone], [kendoFileSelectDropZone]"}),n.__metadata("design:paramtypes",[r.DropZoneService])],d));function d(e){this.dropZoneService=e}t.UploadDropZoneDirective=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),i=i(1),i=(Object.defineProperty(o.prototype,"templateContext",{set:function(e){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))},enumerable:!0,configurable:!0}),n.__decorate([i.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],o.prototype,"templateContext",null),n.__decorate([i.Directive({selector:"[templateContext]"}),n.__metadata("design:paramtypes",[i.ViewContainerRef])],o));function o(e){this.viewContainerRef=e}t.TemplateContextDirective=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(6),s=i(3),r=i(5),l=i(11),o=(Object.defineProperty(d.prototype,"nameAttribute",{get:function(){return this.uploadService.async.saveField},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"multipleAttribute",{get:function(){return this.multiple?"multiple":null},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"dirAttribute",{get:function(){return this.dir},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"disabledAttribute",{get:function(){return this.disabled?"true":null},enumerable:!0,configurable:!0}),d.prototype.onInputChange=function(e){var t=this,i=navigator.userAgent,e=r.inputFiles(e.target),e=r.assignGuidToFiles(e,!this.uploadService.async.batch);l.validateFiles(e,this.restrictions),this.multiple||this.uploadService.clearFiles(),this.uploadService.addFiles(e);e=this.element.nativeElement;!i.match(/(chrome)[ \/]([\w.]+)/i)&&i.match(/(webkit)[ \/]([\w.]+)/i)||(e.type="",e.type="file"),setTimeout(function(){t.navigation.focusedIndex=-1})},n.__decorate([o.Input(),n.__metadata("design:type",String)],d.prototype,"dir",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],d.prototype,"disabled",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],d.prototype,"multiple",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],d.prototype,"restrictions",void 0),n.__decorate([o.HostBinding("attr.type"),n.__metadata("design:type",String)],d.prototype,"type",void 0),n.__decorate([o.HostBinding("attr.autocomplete"),n.__metadata("design:type",String)],d.prototype,"autocomplete",void 0),n.__decorate([o.HostBinding("attr.tabindex"),n.__metadata("design:type",Number)],d.prototype,"tabIndex",void 0),n.__decorate([o.HostBinding("attr.name"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],d.prototype,"nameAttribute",null),n.__decorate([o.HostBinding("attr.multiple"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],d.prototype,"multipleAttribute",null),n.__decorate([o.HostBinding("attr.dir"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],d.prototype,"dirAttribute",null),n.__decorate([o.HostBinding("attr.disabled"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],d.prototype,"disabledAttribute",null),n.__decorate([o.HostListener("change",["$event"]),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],d.prototype,"onInputChange",null),n.__decorate([o.Directive({selector:"[kendoFileSelect]"}),n.__metadata("design:paramtypes",[s.UploadService,a.NavigationService,o.ElementRef])],d));function d(e,t,i){this.uploadService=e,this.navigation=t,this.type="file",this.autocomplete="off",this.tabIndex=-1,this.element=i}t.FileSelectDirective=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=i(0),a=i(1),s=i(22),r=i(2),l=i(21),d=i(4),u=i(3),p=i(5),u=(n=l.FileListItemBase,o.__extends(c,n),Object.defineProperty(c.prototype,"fileStatusText",{get:function(){var e=this.file.validationErrors;return this.file.state===r.FileState.Uploaded?""+this.textFor("fileStatusUploaded"):this.file.state===r.FileState.Failed?""+this.textFor("fileStatusFailed"):p.isPresent(e)?this.getFileValidationMessage(this.file):this.getTotalFilesSizeMessage([this.file])},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"showProgress",{get:function(){return this.file.state===r.FileState.Uploading||this.file.state===r.FileState.Paused?"active":"inactive"},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fileGroupClass",{get:function(){return p.getFileGroupCssClass(this.file.extension||"")},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isUploadSuccessful",{get:function(){return this.file.state===r.FileState.Uploaded},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isUploadFailed",{get:function(){return this.file.state===r.FileState.Failed},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isNotYetUploaded",{get:function(){return!this.isUploadFailed&&!this.isUploadSuccessful},enumerable:!0,configurable:!0}),o.__decorate([a.Input(),o.__metadata("design:type",Boolean)],c.prototype,"disabled",void 0),o.__decorate([a.Input(),o.__metadata("design:type",Object)],c.prototype,"file",void 0),o.__decorate([a.Component({animations:[s.trigger("progressState",[s.state("active",s.style({opacity:1})),s.state("inactive",s.style({opacity:0})),s.transition("void => active",s.style({opacity:0})),s.transition("inactive => active",s.style({opacity:1})),s.transition("active => inactive",s.animate("1s 2s ease-out"))])],selector:"kendo-upload-file-list-single-item",template:'\n      <div class="k-progressbar" [@progressState]="showProgress">\n        <span class="k-progress" [style.width]="progressComplete + \'%\'"></span>\n      </div>\n      <span class="k-file-group-wrapper">\n        <span class="k-file-group k-icon" [ngClass]="fileGroupClass"></span>\n      </span>\n      <span class="k-file-name-size-wrapper">\n        <span class="k-file-name" [title]="file.name">{{ file.name }}</span>\n        <span [ngClass]="{\n                \'k-file-validation-message\': file.validationErrors,\n                \'k-file-size\': !file.validationErrors && isNotYetUploaded,\n                \'k-text-success\': isUploadSuccessful,\n                \'k-text-error\': file.validationErrors || isUploadFailed,\n                \'k-file-information\': isUploadSuccessful || isUploadFailed\n              }"\n        >{{fileStatusText}}</span>\n      </span>\n      <kendo-upload-file-list-item-action-button\n        [file]=\'file\'\n        [disabled]=\'disabled\'\n        [progress]=\'progressComplete\'>\n      </kendo-upload-file-list-item-action-button>\n    '}),o.__metadata("design:paramtypes",[d.LocalizationService,u.UploadService])],c));function c(e,t){var i=n.call(this,t)||this;return i.localization=e,i.subscribeUploadProgress(function(e){e.files[0].uid===i.file.uid&&(i.progressComplete=e.percentComplete)}),i}t.FileListSingleItemComponent=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(5),i=(o.prototype.subscribeUploadProgress=function(e){this.uploadProgressSubscription=this.uploadService.uploadProgressEvent.subscribe(e)},o.prototype.fileHasValidationErrors=function(e){return n.fileHasValidationErrors(e)},o.prototype.filesHaveValidationErrors=function(e){return n.filesHaveValidationErrors(e)},o.prototype.ngOnDestroy=function(){this.uploadProgressSubscription.unsubscribe()},o.prototype.getFileValidationMessage=function(e){var t;return e.validationErrors&&0<e.validationErrors.length&&(t=this.localization.get(e.validationErrors[0])),t},o.prototype.getTotalFilesSizeMessage=function(e){return n.getTotalFilesSizeMessage(e)},o.prototype.textFor=function(e){return this.localization.get(e)},o);function o(e){this.uploadService=e,this.progressComplete=0}t.FileListItemBase=i},function(e,t){e.exports=f},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=i(0),a=i(1),s=i(22),r=i(2),l=i(21),d=i(4),u=i(3),p=i(5),u=(n=l.FileListItemBase,o.__extends(c,n),Object.defineProperty(c.prototype,"showProgress",{get:function(){return this.files[0].state===r.FileState.Uploading||this.files[0].state===r.FileState.Paused?"active":"inactive"},enumerable:!0,configurable:!0}),c.prototype.ngOnInit=function(){this.filesHaveErrors=n.prototype.filesHaveValidationErrors.call(this,this.files)},c.prototype.fileStatusText=function(e){var t=e.validationErrors;return p.isPresent(t)?this.getFileValidationMessage(e):this.getTotalFilesSizeMessage([e])},Object.defineProperty(c.prototype,"batchStatusText",{get:function(){var e=this.files[0].state,t=this.files.length;return e===r.FileState.Uploaded?t+" "+this.textFor("filesBatchStatusUploaded"):e===r.FileState.Failed?t+" "+this.textFor("filesBatchStatusFailed"):t+" "+this.textFor("filesBatchStatus")},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isUploadSuccessful",{get:function(){return this.files[0].state===r.FileState.Uploaded},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isUploadFailed",{get:function(){return this.files[0].state===r.FileState.Failed},enumerable:!0,configurable:!0}),o.__decorate([a.Input(),o.__metadata("design:type",Boolean)],c.prototype,"disabled",void 0),o.__decorate([a.Input(),o.__metadata("design:type",Array)],c.prototype,"files",void 0),o.__decorate([a.Component({animations:[s.trigger("progressState",[s.state("active",s.style({opacity:1})),s.state("inactive",s.style({opacity:0})),s.transition("void => active",s.style({opacity:0})),s.transition("inactive => active",s.style({opacity:1})),s.transition("active => inactive",s.animate("1s 2s ease-out"))])],selector:"kendo-upload-file-list-multiple-items",template:'\n      <div class="k-progressbar" [@progressState]="showProgress">\n        <span class="k-progress" [style.width]="progressComplete + \'%\'"></span>\n      </div>\n      <span class="k-multiple-files-group-wrapper">\n        <span class="k-file-group k-icon k-i-copy"></span>\n      </span>\n      <span class="k-multiple-files-wrapper">\n        <span *ngFor="let file of files" class="k-file-name-size-wrapper">\n            <span [title]="file.name" class="k-file-name">\n                {{file.name}}\n            </span>\n            <span [ngClass]="{\n                    \'k-text-error\': file.validationErrors,\n                    \'k-file-validation-message\': file.validationErrors,\n                    \'k-file-size\': !file.validationErrors\n                  }"\n            >{{fileStatusText(file)}}</span>\n        </span>\n        <span class="k-file-information"\n          [ngClass]="{\n            \'k-text-success\': isUploadSuccessful,\n            \'k-text-error\': isUploadFailed\n          }"\n        >{{batchStatusText}}</span>\n      </span>\n      <kendo-upload-file-list-item-action-button\n        [file]=\'files[0]\'\n        [disabled]=\'disabled\'\n        [progress]=\'progressComplete\'>\n      </kendo-upload-file-list-item-action-button>\n    '}),o.__metadata("design:paramtypes",[d.LocalizationService,u.UploadService])],c));function c(e,t){var i=n.call(this,t)||this;return i.localization=e,i.subscribeUploadProgress(function(e){e.files[0].uid===i.files[0].uid&&(i.progressComplete=e.percentComplete)}),i}t.FileListMultipleItemsComponent=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(2),s=i(3),i=i(4),i=(r.prototype.onFocus=function(e){"action"===e&&(this.actionFocused=!0),"retry"===e&&(this.retryFocused=!0),"pauseResume"===e&&(this.pauseResumeFocused=!0)},r.prototype.onBlur=function(e){"retry"===e&&(this.retryFocused=!1),"action"===e&&(this.actionFocused=!1),"pauseResume"===e&&(this.pauseResumeFocused=!1)},r.prototype.onRetryClick=function(){this.disabled||this.uploadService.retryFiles(this.file.uid)},r.prototype.onRemoveCancelClick=function(){var e;this.disabled||(e=this.file.uid,this.file.state===a.FileState.Uploading?this.uploadService.cancelFiles(e):this.uploadService.removeFiles(e))},r.prototype.onPauseResumeClick=function(){var e;this.disabled||(e=this.file.uid,this.file.state===a.FileState.Paused?this.uploadService.resumeFile(e):this.uploadService.pauseFile(e))},Object.defineProperty(r.prototype,"actionButtonTitle",{get:function(){return this.file.state===a.FileState.Uploading?this.localization.get("cancel"):this.localization.get("remove")},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"retryButtonTitle",{get:function(){return this.localization.get("retry")},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pauseResumeButtonTitle",{get:function(){return this.file.state===a.FileState.Uploading?this.localization.get("pause"):this.localization.get("resume")},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isUploading",{get:function(){return this.file.state===a.FileState.Uploading},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isFailed",{get:function(){return this.file.state===a.FileState.Failed},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isPaused",{get:function(){return this.file.state===a.FileState.Paused},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isResumable",{get:function(){var e=this.uploadService,t=e.async.chunk&&e.chunk.resumable,e=this.file.state===a.FileState.Paused||this.file.state===a.FileState.Uploading;return t&&e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isActionButtonVisible",{get:function(){return!!(this.file.state!==a.FileState.Uploaded&&this.file.state!==a.FileState.Initial||this.uploadService.async.removeUrl||"Upload"!==this.uploadService.component)},enumerable:!0,configurable:!0}),n.__decorate([o.Input(),n.__metadata("design:type",Object)],r.prototype,"file",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],r.prototype,"disabled",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Number)],r.prototype,"progress",void 0),n.__decorate([o.Component({selector:"kendo-upload-file-list-item-action-button",template:'\n      <strong class="k-upload-status">\n        <span class="k-upload-pct" *ngIf="isUploading || isPaused">{{progress}}%</span>\n\n        <button type="button" *ngIf="isFailed" class="k-button k-button-icon k-flat k-upload-action"\n          [ngClass]="{ \'k-state-focused\': this.retryFocused }"\n          [attr.tabIndex]="-1"\n          (focus)="onFocus(\'retry\')"\n          (blur)="onBlur(\'retry\')"\n          (click)="onRetryClick()">\n          <span class="k-icon k-retry k-i-refresh-sm"\n            [attr.aria-label]="retryButtonTitle"\n            [attr.title]="retryButtonTitle">\n          </span>\n        </button>\n\n        <button *ngIf="isResumable" type="button" class="k-button k-button-icon k-flat k-upload-action"\n          [ngClass]="{ \'k-state-focused\': this.pauseResumeFocused }"\n          [attr.tabIndex]="-1"\n          (focus)="onFocus(\'pauseResume\')"\n          (blur)="onBlur(\'pauseResume\')"\n          (click)="onPauseResumeClick()">\n          <span class="k-icon"\n            [ngClass]="{\n              \'k-i-play-sm\': isPaused,\n              \'k-i-pause-sm\': !isPaused\n            }"\n            [attr.aria-label]=\'pauseResumeButtonTitle\'\n            [attr.title]=\'pauseResumeButtonTitle\'>\n          </span>\n        </button>\n\n        <button type="button" *ngIf="isActionButtonVisible" class="k-button k-button-icon k-flat k-upload-action"\n          [ngClass]="{ \'k-state-focused\': this.actionFocused }"\n          [attr.tabIndex]="-1"\n          (focus)="onFocus(\'action\')"\n          (blur)="onBlur(\'action\')"\n          (click)="onRemoveCancelClick()">\n          <span class="k-icon"\n            [ngClass]="{\n              \'k-i-cancel\': isUploading,\n              \'k-delete k-i-x\': !isUploading\n            }"\n            [attr.aria-label]=\'actionButtonTitle\'\n            [attr.title]=\'actionButtonTitle\'>\n          </span>\n        </button>\n      </strong>\n    '}),n.__metadata("design:paramtypes",[s.UploadService,i.LocalizationService])],r));function r(e,t){this.uploadService=e,this.localization=t,this.actionFocused=!1,this.retryFocused=!1,this.pauseResumeFocused=!1}t.FileListItemActionButtonComponent=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(2),s=i(6),r=i(5),i=i(3),i=(l.prototype.focus=function(){this.element.nativeElement.focus()},Object.defineProperty(l.prototype,"uidAttribute",{get:function(){return this.files[0].uid},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"tabIndex",{get:function(){return"-1"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"kFileError",{get:function(){return this.files[0].state===a.FileState.Failed},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"kFileInvalid",{get:function(){return r.filesHaveValidationErrors(this.files)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"kFileProgress",{get:function(){return this.files[0].state===a.FileState.Uploading||this.files[0].state===a.FileState.Paused},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"kFileSuccess",{get:function(){return"Upload"===this.uploadService.component&&(this.files[0].state===a.FileState.Uploaded||this.files[0].state===a.FileState.Initial)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"kStateFocused",{get:function(){return this.focused},enumerable:!0,configurable:!0}),l.prototype.onFocus=function(){this.focused=!0},l.prototype.onBlur=function(){this.focused=!1},l.prototype.onClick=function(e){r.isFocusable(e.target)||r.hasClasses(e.target,r.IGNORE_TARGET_CLASSES)||(this.navigationService.focusedIndex=this.index)},n.__decorate([o.Input(),n.__metadata("design:type",Array)],l.prototype,"files",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Number)],l.prototype,"index",void 0),n.__decorate([o.HostBinding("class.k-file"),n.__metadata("design:type",Boolean)],l.prototype,"fileClass",void 0),n.__decorate([o.HostBinding("attr.data-uid"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],l.prototype,"uidAttribute",null),n.__decorate([o.HostBinding("attr.tabIndex"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],l.prototype,"tabIndex",null),n.__decorate([o.HostBinding("class.k-file-error"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],l.prototype,"kFileError",null),n.__decorate([o.HostBinding("class.k-file-invalid"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],l.prototype,"kFileInvalid",null),n.__decorate([o.HostBinding("class.k-file-progress"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],l.prototype,"kFileProgress",null),n.__decorate([o.HostBinding("class.k-file-success"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],l.prototype,"kFileSuccess",null),n.__decorate([o.HostBinding("class.k-state-focused"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],l.prototype,"kStateFocused",null),n.__decorate([o.HostListener("focus"),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],l.prototype,"onFocus",null),n.__decorate([o.HostListener("blur"),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],l.prototype,"onBlur",null),n.__decorate([o.HostListener("click",["$event"]),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],l.prototype,"onClick",null),n.__decorate([o.Directive({selector:"[kendoUploadFileListItem]"}),n.__metadata("design:paramtypes",[o.ElementRef,s.NavigationService,i.UploadService])],l));function l(e,t,i){this.navigationService=t,this.uploadService=i,this.fileClass=!0,this.focused=!1,this.element=e}t.FileListItemDirective=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(9),s=i(2),r=i(7),l=i(25),d=i(6),i=i(3),d=(u.prototype.onItemFocus=function(){var t=this;this.focusSubscription=this.navigation.onFileFocus.subscribe(function(e){t.fileListItems.toArray()[e].focus()})},u.prototype.onItemAction=function(){var t=this;this.actionSubscription=this.navigation.onFileAction.subscribe(function(e){t.itemActionHandler(e)})},u.prototype.itemActionHandler=function(e){var t=this.navigation.focusedIndex,i=this.fileListItems.toArray()[t],n=i.uidAttribute,t=this.uploadService.files.get(n);if(e===a.Keys.Escape&&t[0].state===s.FileState.Uploading)return this.uploadService.cancelFiles(n),void this.navigation.focusSelectButton();e!==a.Keys.Enter||t[0].state!==s.FileState.Failed?e===a.Keys.Delete&&(t[0].state===s.FileState.Uploading?this.uploadService.cancelFiles(n):this.hasDelete(i)&&this.uploadService.removeFiles(n),this.navigation.focusSelectButton()):this.uploadService.retryFiles(n)},u.prototype.hasDelete=function(e){return 0<e.element.nativeElement.getElementsByClassName("k-delete").length},u.prototype.ngOnDestroy=function(){this.focusSubscription.unsubscribe(),this.actionSubscription.unsubscribe()},n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],u.prototype,"disabled",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Array)],u.prototype,"fileList",void 0),n.__decorate([o.Input(),n.__metadata("design:type",r.FileTemplateDirective)],u.prototype,"fileTemplate",void 0),n.__decorate([o.ViewChildren(l.FileListItemDirective),n.__metadata("design:type",o.QueryList)],u.prototype,"fileListItems",void 0),n.__decorate([o.Component({selector:"[kendo-upload-file-list]",template:"\n    <ng-template ngFor\n      [ngForOf]=\"fileList\"\n      let-files\n      let-index=\"index\">\n      <li kendoUploadFileListItem [files]='files' [index]='index'>\n          <kendo-upload-file-list-single-item\n            class='k-file-single'\n            *ngIf='files.length === 1 && !fileTemplate'\n            [disabled]='disabled'\n            [file]='files[0]'>\n          </kendo-upload-file-list-single-item>\n          <kendo-upload-file-list-multiple-items\n            class='k-file-multiple'\n            *ngIf='files.length > 1 && !fileTemplate'\n            [disabled]='disabled'\n            [files]='files'>\n          </kendo-upload-file-list-multiple-items>\n          <ng-template *ngIf=\"fileTemplate\"\n              [templateContext]=\"{\n                templateRef: fileTemplate.templateRef,\n                state: files[0].state,\n                $implicit: files\n              }\"></ng-template>\n      </li>\n    </ng-template>\n    "}),n.__metadata("design:paramtypes",[i.UploadService,d.NavigationService])],u));function u(e,t){this.uploadService=e,this.navigation=t,this.onItemFocus(),this.onItemAction()}t.FileListComponent=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),i=i(1),n=(o.prototype.onElementDragEnterListener=function(){var e=this;return this.addClass(this.hoverClass),this.lastDragElement=new Date,this.hideIntervalElement||(this.hideIntervalElement=setInterval(function(){e.calculateTimeDiff(e.lastDragElement)<100||(e.removeClass(e.hoverClass),clearInterval(e.hideIntervalElement),e.hideIntervalElement=null)},100)),!1},o.prototype.onElementDragOverListener=function(){return this.lastDragElement=new Date,!1},o.prototype.calculateTimeDiff=function(e){return(new Date).getTime()-e.getTime()},o.prototype.addClass=function(e){this.renderer.addClass(this.element.nativeElement,e)},o.prototype.removeClass=function(e){this.renderer.removeClass(this.element.nativeElement,e)},n.__decorate([i.HostListener("dragenter"),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",Boolean)],o.prototype,"onElementDragEnterListener",null),n.__decorate([i.HostListener("dragover"),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",Boolean)],o.prototype,"onElementDragOverListener",null),o);function o(e,t,i){this.element=e,this.renderer=t,this.hideIntervalElement=null,this.hoverClass=i}t.DropZoneBase=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=i(0),a=i(1),o=(n=i(4).ComponentMessages,o.__extends(s,n),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"cancel",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"clearSelectedFiles",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"dropFilesHere",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"externalDropFilesHere",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"filesBatchStatus",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"filesBatchStatusFailed",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"filesBatchStatusUploaded",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"fileStatusFailed",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"fileStatusUploaded",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"headerStatusPaused",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"headerStatusUploaded",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"headerStatusUploading",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"invalidFileExtension",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"invalidMaxFileSize",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"invalidMinFileSize",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"pause",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"remove",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"resume",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"retry",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"select",void 0),o.__decorate([a.Input(),o.__metadata("design:type",String)],s.prototype,"uploadSelectedFiles",void 0),s);function s(){return null!==n&&n.apply(this,arguments)||this}t.Messages=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a=i(0),s=i(1),r=i(28),i=i(4),i=(n=r.Messages,a.__extends(l,n),o=l,Object.defineProperty(l.prototype,"override",{get:function(){return!0},enumerable:!0,configurable:!0}),o=a.__decorate([s.Component({providers:[{provide:r.Messages,useExisting:s.forwardRef(function(){return o})}],selector:"kendo-upload-messages, kendo-fileselect-messages, kendo-uploaddropzone-messages",template:""}),a.__metadata("design:paramtypes",[i.LocalizationService])],l));function l(e){var t=n.call(this)||this;return t.service=e,t}t.CustomMessagesComponent=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(43),s=i(29),r=i(42),l=i(26),d=i(25),u=i(24),p=i(23),c=i(20),f=i(19),h=i(7),m=i(41),v=i(18),g=i(17),i=i(16);t.SHARED_DECLARATIONS=[r.DropZoneInternalDirective,l.FileListComponent,d.FileListItemDirective,u.FileListItemActionButtonComponent,p.FileListMultipleItemsComponent,c.FileListSingleItemComponent,f.FileSelectDirective,m.LocalizedMessagesDirective,v.TemplateContextDirective],t.PUBLIC_DIRECTIVES=[h.FileTemplateDirective,s.CustomMessagesComponent,g.UploadDropZoneDirective,i.UploadDropZoneComponent];a=n.__decorate([o.NgModule({declarations:[t.PUBLIC_DIRECTIVES,t.SHARED_DECLARATIONS],exports:[t.PUBLIC_DIRECTIVES,t.SHARED_DECLARATIONS,a.CommonModule],imports:[a.CommonModule]})],function(){});t.SharedModule=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(55);t.CancelEvent=n.CancelEvent;n=i(54);t.ClearEvent=n.ClearEvent;n=i(53);t.ErrorEvent=n.ErrorEvent;n=i(52);t.PauseEvent=n.PauseEvent;n=i(51);t.RemoveEvent=n.RemoveEvent;n=i(50);t.ResumeEvent=n.ResumeEvent;n=i(49);t.SelectEvent=n.SelectEvent;n=i(48);t.SuccessEvent=n.SuccessEvent;n=i(47);t.UploadEvent=n.UploadEvent;i=i(46);t.UploadProgressEvent=i.UploadProgressEvent},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=i(2),i=(n.prototype.add=function(e){var t=e.uid;this.has(t)?e.validationErrors&&0<e.validationErrors.length?this._files[t].unshift(e):this._files[t].push(e):this._files[t]=[e]},n.prototype.remove=function(e){this.has(e)&&(this._files[e]=null,delete this._files[e])},n.prototype.clear=function(){var e,t=this._files;for(e in t)if(t.hasOwnProperty(e)){for(var i=0,n=t[e];i<n.length;i++){var o=n[i];o.httpSubscription&&o.httpSubscription.unsubscribe()}t[e]=null,delete t[e]}},n.prototype.has=function(e){return e in this._files},n.prototype.get=function(e){return this._files[e]},n.prototype.setFilesState=function(e,t){for(var i=0,n=e;i<n.length;i++){var o=n[i];this.setFilesStateByUid(o.uid,t)}},n.prototype.setFilesStateByUid=function(e,t){this.get(e).forEach(function(e){e.state=t})},Object.defineProperty(n.prototype,"count",{get:function(){return Object.getOwnPropertyNames(this._files).length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"files",{get:function(){var e,t=this._files,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(t[e]);return i},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filesFlat",{get:function(){var e,t=this._files,i=[];for(e in t)t.hasOwnProperty(e)&&t[e].forEach(function(e){i.push(e)});return i},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filesToUpload",{get:function(){var e,t=this._files,i=[];for(e in t)if(t.hasOwnProperty(e)){for(var n=t[e],o=!0,a=0,s=n;a<s.length;a++){var r=s[a];(r.state!==l.FileState.Selected||r.validationErrors&&0<r.validationErrors.length)&&(o=!1)}o&&i.push(n)}return i},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"firstFileToUpload",{get:function(){var e,t=this._files;for(e in t)if(t.hasOwnProperty(e)){for(var i=t[e],n=!0,o=0,a=i;o<a.length;o++){var s=a[o];(s.state!==l.FileState.Selected||s.validationErrors&&0<s.validationErrors.length)&&(n=!1)}if(n)return i}return null},enumerable:!0,configurable:!0}),n.prototype.hasFileWithState=function(e){var t,i=this._files;for(t in i)if(i.hasOwnProperty(t))for(var n=0,o=i[t];n<o.length;n++){var a=o[n];if(0<=e.indexOf(a.state))return!0}return!1},n);function n(){this._files={}}t.FileMap=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.FileState||(t.FileState={}))[t.Failed=0]="Failed",t[t.Initial=1]="Initial",t[t.Selected=2]="Selected",t[t.Uploaded=3]="Uploaded",t[t.Uploading=4]="Uploading",t[t.Paused=5]="Paused"},function(e,t){e.exports=h},function(e,t){e.exports=c},function(e,t){e.exports=p},function(e,t){e.exports=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),d=i(1),o=i(37),a=i(4),u=i(9),s=i(36),r=i(35),l=i(3),p=i(6),c=i(5),f=i(7),h=i(33),i=i(12);t.FILESELECT_VALUE_ACCESSOR={multi:!0,provide:o.NG_VALUE_ACCESSOR,useExisting:d.forwardRef(function(){return v})};var m,v=(m=g,Object.defineProperty(g.prototype,"name",{get:function(){return this.uploadService.async.saveField},set:function(e){this.uploadService.async.saveField=e},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"restrictions",{get:function(){return this._restrictions},set:function(e){e=Object.assign({},this._restrictions,e);this._restrictions=e},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"hostDisabledClass",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),g.prototype.ngOnInit=function(){this.renderer.removeAttribute(this.wrapper,"tabindex"),this.zoneId&&this.dropZoneService.addComponent(this,this.zoneId)},g.prototype.textFor=function(e){return this.localization.get(e)},g.prototype.focus=function(){var e=this;setTimeout(function(){e.fileSelectButton.nativeElement.focus()})},g.prototype.ngOnDestroy=function(){this.fileList.clear(),this.blurSubscription&&this.blurSubscription.unsubscribe(),this.wrapperFocusSubscription&&this.wrapperFocusSubscription.unsubscribe(),this.selectButtonFocusSubscription&&this.selectButtonFocusSubscription.unsubscribe(),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.subs&&this.subs.unsubscribe()},g.prototype.handleKeydown=function(e){if(!this.disabled)return e.keyCode!==u.Keys.Enter&&e.keyCode!==u.Keys.Space||e.target!==this.fileSelectButton.nativeElement?void(!c.hasClasses(e.target,c.UPLOAD_CLASSES)&&(c.isFocusable(e.target)||c.hasClasses(e.target,c.IGNORE_TARGET_CLASSES))||this.navigation.process(e)):(e.preventDefault(),void this.fileSelect.nativeElement.click())},g.prototype.writeValue=function(e){var t=!0;e instanceof Array&&(e.forEach(function(e){c.validateInitialFileSelectFile(e)||(t=!1)}),t&&this.uploadService.addInitialFileSelectFiles(e)),null===e&&this.fileList.clear(),this.cdr.markForCheck()},g.prototype.registerOnChange=function(e){this.onChangeCallback=e},g.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},g.prototype.setDisabledState=function(e){this.disabled=e},g.prototype.removeFileByUid=function(e){this.uploadService.removeFiles(e)},g.prototype.clearFiles=function(){this.uploadService.clearFiles()},g.prototype.isEmpty=function(){return!1},g.prototype.addFiles=function(e){this.uploadService.addFiles(e)},Object.defineProperty(g.prototype,"selectButtonTabIndex",{get:function(){return this.disabled?void 0:this.tabindex},enumerable:!0,configurable:!0}),g.prototype.onFileSelectButtonFocus=function(e){this.renderer.addClass(this.fileSelectButton.nativeElement,"k-state-focused"),this.navigation.focused||(this.navigation.focusedIndex=-1)},g.prototype.onFileSelectButtonBlur=function(e){this.renderer.removeClass(this.fileSelectButton.nativeElement,"k-state-focused")},g.prototype.subscribeBlur=function(){var t=this;u.isDocumentAvailable()&&this.ngZone.runOutsideAngular(function(){t.documentClick=s.fromEvent(document,"click").pipe(r.filter(function(e){return!(t.wrapper!==e.target&&t.wrapper.contains(e.target))})),t.blurSubscription=s.merge(t.documentClick,t.navigation.onTab).subscribe(function(){t.navigation.focused&&t.ngZone.run(function(){t.navigation.focused=!1,t.onTouchedCallback(),t.onBlur.emit()})})})},g.prototype.subscribeFocus=function(){var e=this;this.wrapperFocusSubscription=this.navigation.onWrapperFocus.subscribe(function(){e.onFocus.emit()}),this.selectButtonFocusSubscription=this.navigation.onSelectButtonFocus.subscribe(function(){e.fileSelectButton.nativeElement.focus()})},g.prototype.attachEventHandlers=function(){var i=this;this.subs=this.uploadService.changeEvent.subscribe(function(e){var t=[];null!==e&&e.forEach(function(e){e.state===h.FileState.Initial&&t.push(e),e.state===h.FileState.Selected&&e.rawFile&&!e.validationErrors&&t.push(e.rawFile)}),0===t.length&&(t=null),i.onChangeCallback(t),i.valueChange.emit(t)}),this.subs.add(this.uploadService.removeEvent.subscribe(function(e){i.remove.emit(e)})),this.subs.add(this.uploadService.selectEvent.subscribe(function(e){i.select.emit(e)}))},g.prototype.setDefaultSettings=function(){this.uploadService.async.autoUpload=!1,this.uploadService.component="FileSelect"},n.__decorate([d.Input(),n.__metadata("design:type",String)],g.prototype,"accept",void 0),n.__decorate([d.Input(),n.__metadata("design:type",Boolean)],g.prototype,"disabled",void 0),n.__decorate([d.Input(),n.__metadata("design:type",Boolean)],g.prototype,"multiple",void 0),n.__decorate([d.Input(),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[String])],g.prototype,"name",null),n.__decorate([d.Input(),n.__metadata("design:type",Boolean)],g.prototype,"showFileList",void 0),n.__decorate([d.Input(),n.__metadata("design:type",Number)],g.prototype,"tabindex",void 0),n.__decorate([d.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],g.prototype,"restrictions",null),n.__decorate([d.Input(),n.__metadata("design:type",String)],g.prototype,"zoneId",void 0),n.__decorate([d.Input(),n.__metadata("design:type",String)],g.prototype,"focusableId",void 0),n.__decorate([d.ContentChild(f.FileTemplateDirective),n.__metadata("design:type",f.FileTemplateDirective)],g.prototype,"fileTemplate",void 0),n.__decorate([d.ViewChild("fileSelect"),n.__metadata("design:type",d.ElementRef)],g.prototype,"fileSelect",void 0),n.__decorate([d.ViewChild("fileSelectButton"),n.__metadata("design:type",d.ElementRef)],g.prototype,"fileSelectButton",void 0),n.__decorate([d.Output("blur"),n.__metadata("design:type",d.EventEmitter)],g.prototype,"onBlur",void 0),n.__decorate([d.Output("focus"),n.__metadata("design:type",d.EventEmitter)],g.prototype,"onFocus",void 0),n.__decorate([d.Output(),n.__metadata("design:type",d.EventEmitter)],g.prototype,"select",void 0),n.__decorate([d.Output(),n.__metadata("design:type",d.EventEmitter)],g.prototype,"remove",void 0),n.__decorate([d.Output(),n.__metadata("design:type",d.EventEmitter)],g.prototype,"valueChange",void 0),n.__decorate([d.HostBinding("class.k-widget"),d.HostBinding("class.k-upload"),n.__metadata("design:type",Boolean)],g.prototype,"hostDefaultClasses",void 0),n.__decorate([d.HostBinding("class.k-state-disabled"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],g.prototype,"hostDisabledClass",null),n.__decorate([d.HostBinding("attr.dir"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],g.prototype,"dir",null),n.__decorate([d.HostListener("keydown",["$event"]),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],g.prototype,"handleKeydown",null),m=n.__decorate([d.Component({exportAs:"kendoFileSelect",providers:[a.LocalizationService,p.NavigationService,l.UploadService,i.DropZoneService,t.FILESELECT_VALUE_ACCESSOR,{provide:a.L10N_PREFIX,useValue:"kendo.fileselect"},{provide:u.KendoInput,useExisting:d.forwardRef(function(){return m})}],selector:"kendo-fileselect",template:'\n        <ng-container kendoFileSelectLocalizedMessages\n            i18n-dropFilesHere="kendo.fileselect.dropFilesHere|The drop zone hint"\n            dropFilesHere="Drop files here to select"\n\n            i18n-invalidFileExtension="kendo.fileselect.invalidFileExtension|The text for the invalid allowed extensions restriction message"\n            invalidFileExtension="File type not allowed."\n\n            i18n-invalidMaxFileSize="kendo.fileselect.invalidMaxFileSize|The text for the invalid max file size restriction message"\n            invalidMaxFileSize="File size too large."\n\n            i18n-invalidMinFileSize="kendo.fileselect.invalidMinFileSize|The text for the invalid min file size restriction message"\n            invalidMinFileSize="File size too small."\n\n            i18n-remove="kendo.fileselect.remove|The text for the Remove button"\n            remove="Remove"\n\n            i18n-select="kendo.fileselect.select|The text for the Select button"\n            select="Select files..."\n        >\n        </ng-container>\n        <div kendoFileSelectInternalDropZone\n            [restrictions]="restrictions"\n            [multiple]="multiple"\n            [disabled]="disabled">\n            <div role="button" #fileSelectButton\n                [id]="focusableId"\n                [attr.aria-label]="textFor(\'select\')"\n                [attr.tabindex]="selectButtonTabIndex"\n                (focus)="onFileSelectButtonFocus($event)"\n                (blur)="onFileSelectButtonBlur($event)"\n                class="k-button k-upload-button">\n                <input #fileSelect kendoFileSelect\n                    [attr.accept]="accept ? accept : null"\n                    [dir]="direction"\n                    [restrictions]="restrictions"\n                    [multiple]="multiple"\n                    [disabled]="disabled" />\n                <span>{{textFor(\'select\')}}</span>\n            </div>\n            <div class="k-dropzone-hint">{{textFor(\'dropFilesHere\')}}</div>\n        </div>\n        <ul kendo-upload-file-list\n            class="k-upload-files k-reset"\n            *ngIf="showFileList && fileList.count > 0"\n            [disabled]="disabled"\n            [fileList]="fileList.files"\n            [fileTemplate]="fileTemplate">\n        </ul>\n    '}),n.__metadata("design:paramtypes",[l.UploadService,a.LocalizationService,p.NavigationService,i.DropZoneService,d.NgZone,d.Renderer2,d.ChangeDetectorRef,d.ElementRef])],g));function g(e,t,i,n,o,a,s,r){var l=this;this.uploadService=e,this.localization=t,this.navigation=i,this.dropZoneService=n,this.ngZone=o,this.renderer=a,this.cdr=s,this.disabled=!1,this.multiple=!0,this.showFileList=!0,this.tabindex=0,this.focusableId="k-"+u.guid(),this.onBlur=new d.EventEmitter,this.onFocus=new d.EventEmitter,this.select=new d.EventEmitter,this.remove=new d.EventEmitter,this.valueChange=new d.EventEmitter,this.hostDefaultClasses=!0,this._restrictions={allowedExtensions:[],maxFileSize:0,minFileSize:0},this.onTouchedCallback=function(e){},this.onChangeCallback=function(e){},this.wrapper=r.nativeElement,this.direction=t.rtl?"rtl":"ltr",this.navigation.computeKeys(this.direction),this.fileList=this.uploadService.files,this.localizationChangeSubscription=t.changes.subscribe(function(e){e=e.rtl;l.direction=e?"rtl":"ltr",l.navigation.computeKeys(l.direction)}),this.subscribeBlur(),this.subscribeFocus(),this.attachEventHandlers(),this.setDefaultSettings()}t.FileSelectComponent=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(38),i=i(30),a=[a.FileSelectComponent],i=n.__decorate([o.NgModule({declarations:[a],exports:[i.PUBLIC_DIRECTIVES,a],imports:[i.SharedModule]})],function(){});t.FileSelectModule=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(39),i=i(15),i=n.__decorate([o.NgModule({exports:[a.FileSelectModule,i.UploadModule]})],function(){});t.UploadsModule=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a=i(0),s=i(1),r=i(28),i=i(4),i=(n=r.Messages,a.__extends(l,n),o=l,o=a.__decorate([s.Directive({providers:[{provide:r.Messages,useExisting:s.forwardRef(function(){return o})}],selector:"\n    [kendoUploadLocalizedMessages],\n    [kendoFileSelectLocalizedMessages],\n    [kendoUploadDropZoneLocalizedMessages]\n  "}),a.__metadata("design:paramtypes",[i.LocalizationService])],l));function l(e){var t=n.call(this)||this;return t.service=e,t}t.LocalizedMessagesDirective=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=i(0),o=i(1),s=i(5),r=i(11),l=i(27),i=i(3),i=(a=l.DropZoneBase,n.__extends(d,a),d.prototype.ngOnDestroy=function(){var e=this;this.ngZone.runOutsideAngular(function(){e.unsubscribeDocumentDragEnter&&e.unsubscribeDocumentDragEnter(),e.unsubscribeDocumentDragOver&&e.unsubscribeDocumentDragOver()})},d.prototype.onDocumentDragEnter=function(){var e=this;return this.addClass(this.activeClass),this.lastDragDocument=new Date,this.hideIntervalDocument||(this.hideIntervalDocument=setInterval(function(){e.calculateTimeDiff(e.lastDragDocument)<100||(e.removeClass(e.activeClass),clearInterval(e.hideIntervalDocument),e.hideIntervalDocument=null)},100)),!1},d.prototype.onDocumentDragOver=function(){return this.lastDragDocument=new Date,!1},d.prototype.onDropListener=function(e){e=e.dataTransfer.files;return 0<e.length&&!this.disabled&&(e=s.getAllFileInfo(e),e=s.assignGuidToFiles(e,!this.uploadService.async.batch),this.multiple||(e.splice(1,e.length-1),this.uploadService.clearFiles()),r.validateFiles(e,this.restrictions),this.uploadService.addFiles(e)),!1},n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],d.prototype,"disabled",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],d.prototype,"multiple",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],d.prototype,"restrictions",void 0),n.__decorate([o.HostBinding("class.k-dropzone"),n.__metadata("design:type",Boolean)],d.prototype,"initialClassName",void 0),n.__decorate([o.HostListener("drop",["$event"]),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",Boolean)],d.prototype,"onDropListener",null),n.__decorate([o.Directive({selector:"\n      [kendoUploadInternalDropZone],\n      [kendoFileSelectInternalDropZone]\n    "}),n.__metadata("design:paramtypes",[o.ElementRef,o.Renderer2,o.NgZone,i.UploadService])],d));function d(e,t,i,n){var o=a.call(this,e,t,"k-dropzone-hover")||this;return o.ngZone=i,o.uploadService=n,o.initialClassName=!0,o.hideIntervalDocument=null,o.activeClass="k-dropzone-active",o.ngZone.runOutsideAngular(function(){o.unsubscribeDocumentDragEnter=o.renderer.listen("document","dragenter",function(){return o.onDocumentDragEnter()}),o.unsubscribeDocumentDragOver=o.renderer.listen("document","dragover",function(){return o.onDocumentDragOver()})}),o}t.DropZoneInternalDirective=i},function(e,t){e.exports=m},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(o.prototype.add=function(e,t){t={index:0,position:0,retries:0,totalChunks:t};return this._files[e]=t},o.prototype.remove=function(e){this.has(e)&&(this._files[e]=null,delete this._files[e])},o.prototype.has=function(e){return e in this._files},o.prototype.get=function(e){return this._files[e]},o);function o(){this._files={}}t.ChunkMap=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fileGroupMap={audio:[".aif",".iff",".m3u",".m4a",".mid",".mp3",".mpa",".wav",".wma",".ogg",".wav",".wma",".wpl"],video:[".3g2",".3gp",".avi",".asf",".flv",".m4u",".rm",".h264",".m4v",".mkv",".mov",".mp4",".mpg",".rm",".swf",".vob",".wmv"],image:[".ai",".dds",".heic",".jpe","jfif",".jif",".jp2",".jps",".eps",".bmp",".gif",".jpeg",".jpg",".png",".ps",".psd",".svg",".svgz",".tif",".tiff"],txt:[".doc",".docx",".log",".pages",".tex",".wpd",".wps",".odt",".rtf",".text",".txt",".wks"],presentation:[".key",".odp",".pps",".ppt",".pptx"],data:[".xlr",".xls",".xlsx"],programming:[".tmp",".bak",".msi",".cab",".cpl",".cur",".dll",".dmp",".drv",".icns",".ico",".link",".sys",".cfg",".ini",".asp",".aspx",".cer",".csr",".css",".dcr",".htm",".html",".js",".php",".rss",".xhtml"],pdf:[".pdf"],config:[".apk",".app",".bat",".cgi",".com",".exe",".gadget",".jar",".wsf"],zip:[".7z",".cbr",".gz",".sitx",".arj",".deb",".pkg",".rar",".rpm",".tar.gz",".z",".zip",".zipx"],discImage:[".dmg",".iso",".toast",".vcd",".bin",".cue",".mdf"]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function n(e,t){this.files=e,this.percentComplete=t}t.UploadProgressEvent=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=i(0),o=(n=i(8).PreventableEvent,o.__extends(a,n),a);function a(e,t){var i=n.call(this)||this;return i.files=e,i.headers=t,i}t.UploadEvent=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=i(0),n=(o=i(8).PreventableEvent,n.__extends(a,o),a);function a(e,t,i){var n=o.call(this)||this;return n.files=e,n.operation=t,n.response=i,n}t.SuccessEvent=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=i(0),o=(n=i(8).PreventableEvent,o.__extends(a,n),a);function a(e){var t=n.call(this)||this;return t.files=e,t}t.SelectEvent=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function n(e){this.file=e}t.ResumeEvent=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=i(0),o=(n=i(8).PreventableEvent,o.__extends(a,n),a);function a(e,t){var i=n.call(this)||this;return i.files=e,i.headers=t,i}t.RemoveEvent=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function n(e){this.file=e}t.PauseEvent=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function n(e,t,i){this.files=e,this.operation=t,this.response=i}t.ErrorEvent=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=i(0),o=(n=i(8).PreventableEvent,o.__extends(a,n),a);function a(){return n.call(this)||this}t.ClearEvent=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function n(e){this.files=e}t.CancelEvent=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(39);t.FileSelectModule=o.FileSelectModule;o=i(15);t.UploadModule=o.UploadModule;o=i(40);t.UploadsModule=o.UploadsModule;o=i(10);t.UploadComponent=o.UploadComponent;o=i(38);t.FileSelectComponent=o.FileSelectComponent;o=i(16);t.UploadDropZoneComponent=o.UploadDropZoneComponent;o=i(19);t.FileSelectDirective=o.FileSelectDirective;o=i(26);t.FileListComponent=o.FileListComponent;o=i(20);t.FileListSingleItemComponent=o.FileListSingleItemComponent;o=i(24);t.FileListItemActionButtonComponent=o.FileListItemActionButtonComponent;o=i(23);t.FileListMultipleItemsComponent=o.FileListMultipleItemsComponent;o=i(7);t.FileTemplateDirective=o.FileTemplateDirective;o=i(18);t.TemplateContextDirective=o.TemplateContextDirective;o=i(13);t.UploadStatusTotalComponent=o.UploadStatusTotalComponent;o=i(14);t.UploadActionButtonsComponent=o.UploadActionButtonsComponent;o=i(17);t.UploadDropZoneDirective=o.UploadDropZoneDirective;o=i(29);t.CustomMessagesComponent=o.CustomMessagesComponent,n.__exportStar(i(31),t),n.__exportStar(i(2),t),function(e){for(var t in e)a(t,e[t])}(t)}],n.c=o,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=56)}}});