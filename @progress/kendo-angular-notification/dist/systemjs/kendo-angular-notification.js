/**-----------------------------------------------------------------------------------------
* Copyright Â© 2020 Progress Software Corporation. All rights reserved.
* Licensed under commercial license. See LICENSE.md in the project root for more information
*-------------------------------------------------------------------------------------------*/
System.register("@progress/kendo-angular-notification",["tslib","@angular/core","@angular/animations","rxjs/operators","@progress/kendo-angular-l10n","@angular/common"],function(s){var a,r,c,l,p,d;function e(t){return t.__useDefault?t.default:t}return{setters:[function(t){a=e(t)},function(t){r=e(t)},function(t){c=e(t)},function(t){l=e(t)},function(t){p=e(t)},function(t){d=e(t)}],execute:function(){function n(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}var i,o;o={},n.m=i=[function(t,e){t.exports=r},function(t,e){t.exports=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(0),o=i(6),a=i(11),s=i(10),c=i(5),l=(Object.defineProperty(p.prototype,"containerClass",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"closeButtonTitle",{get:function(){return this.closeTitle||this.localizationService.get("closeTitle")},enumerable:!0,configurable:!0}),p.prototype.notificationClasses=function(){return(this.type?this.typeClass():"")+"\n            "+(this.closable?"k-notification-closable":"")},p.prototype.ngOnInit=function(){clearTimeout(this.hideTimeout)},p.prototype.ngOnDestroy=function(){clearTimeout(this.hideTimeout),this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()},p.prototype.ngAfterViewInit=function(){var t=this;this.closable||this.animation||this.setHideTimeout(),!this.closable&&this.animation&&this.animationEnd.pipe(a.take(1)).subscribe(function(){return t.setHideTimeout()}),this.animation&&this.animate(this.animation)},p.prototype.typeClass=function(){return{none:"",success:"k-notification-success",warning:"k-notification-warning",error:"k-notification-error",info:"k-notification-info"}[this.type.style]},p.prototype.typeIconClass=function(){return{none:"",success:"k-i-success",warning:"k-i-warning",error:"k-i-error",info:"k-i-info"}[this.type.style]},p.prototype.onCloseClick=function(){clearTimeout(this.hideTimeout),this.hide()},p.prototype.hide=function(t){var e=this,i=getComputedStyle(this.element.nativeElement).height;if(this.animation&&i)return this.animate(this.animation,!0),void this.animationEnd.subscribe(function(){e.emitClose(t)});this.emitClose(t)},p.prototype.setHideTimeout=function(){var t=this,e=this.hideAfter||this.defaultHideAfter;this.hideTimeout=window.setTimeout(function(){return t.onCloseClick()},e)},p.prototype.emitClose=function(t){t&&t.destroy(),this.close.emit()},p.prototype.play=function(t,e){var i=this,n=this.builder.build(t),o=this.element.nativeElement;this.renderer.addClass(o,"k-notification-container-animating");var a=n.create(e);a.onDone(function(){i.renderer.removeClass(o,"k-notification-container-animating"),i.animationEnd.emit(),a&&(a.destroy(),a=null)}),a.play()},p.prototype.animate=function(t,e){var i=this.element.nativeElement,n=t.duration,o=i.offsetHeight,a="slide"===t.type?this.slideAnimation(o,n,e):this.fadeAnimation(n,e);this.play(a,i)},p.prototype.slideAnimation=function(t,e,i){return i?s.slideCloseAnimation(t,e):s.slideAnimation(t,e)},p.prototype.fadeAnimation=function(t,e){return e?s.fadeCloseAnimation(t):s.fadeAnimation(t)},n.__decorate([r.ViewChild("container",{read:r.ViewContainerRef,static:!0}),n.__metadata("design:type",r.ViewContainerRef)],p.prototype,"container",void 0),n.__decorate([r.Input(),n.__metadata("design:type",r.TemplateRef)],p.prototype,"templateRef",void 0),n.__decorate([r.Input(),n.__metadata("design:type",String)],p.prototype,"templateString",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Number)],p.prototype,"width",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Number)],p.prototype,"height",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Object)],p.prototype,"cssClass",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Number)],p.prototype,"hideAfter",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Boolean)],p.prototype,"closable",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Object)],p.prototype,"type",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Object)],p.prototype,"animation",void 0),n.__decorate([r.HostBinding("attr.dir"),n.__metadata("design:type",String)],p.prototype,"direction",void 0),n.__decorate([r.HostBinding("class.k-notification-container"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],p.prototype,"containerClass",null),n.__decorate([r.Component({selector:"kendo-notification",template:'\n    <ng-container kendoNotificationLocalizedMessages\n        i18n-closeTitle="kendo.notification.closeTitle|The title of the close button"\n        closeTitle="Close"\n    >\n    </ng-container>\n    <div class="k-widget k-notification {{ notificationClasses() }}"\n        [ngClass]="cssClass"\n        [style.height.px]="height"\n        [style.width.px]="width">\n        <div class="k-notification-wrap">\n            <span *ngIf="type && type.icon && type.style !== \'none\'" class="k-icon" [ngClass]="typeIconClass()"></span>\n\n            <div class="k-notification-content">\n                <ng-template\n                    [ngIf]="templateRef"\n                    [ngTemplateOutlet]="templateRef">\n                </ng-template>\n                <ng-template\n                    [ngIf]="templateString">\n                    {{ templateString }}\n                </ng-template>\n                <ng-container #container></ng-container>\n            </div>\n\n            <a *ngIf="closable" class="k-icon k-i-close" [attr.title]="closeButtonTitle" (click)="onCloseClick()"></a>\n        </div>\n    </div>\n  ',providers:[c.LocalizationService,{provide:c.L10N_PREFIX,useValue:"kendo.notification"}]}),n.__metadata("design:paramtypes",[r.ChangeDetectorRef,r.ElementRef,r.Renderer2,o.AnimationBuilder,c.LocalizationService])],p));function p(t,e,i,n,o){var a=this;this.cdr=t,this.element=e,this.renderer=i,this.builder=n,this.localizationService=o,this.close=new r.EventEmitter,this.width=null,this.height=null,this.defaultHideAfter=5e3,this.animationEnd=new r.EventEmitter,this.rtl=!1,this.dynamicRTLSubscription=o.changes.subscribe(function(t){var e=t.rtl;a.rtl=e,a.direction=a.rtl?"rtl":"ltr"})}e.NotificationComponent=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),s=i(0),a=i(2),o=(r.prototype.ngOnDestroy=function(){this.notifications.forEach(function(t){t.closeClickSubscription&&t.closeClickSubscription.unsubscribe()}),this.notifications=[]},r.prototype.addNotification=function(t){this.position=t.position,this.id=this.position.horizontal+" "+this.position.vertical;var e=this.resolver.resolveComponentFactory(a.NotificationComponent),i=this.container.createComponent(e);this.applySettings(i,t);var n,o=null;return"function"==typeof t.content&&(n=this.resolver.resolveComponentFactory(t.content),o=i.instance.container.createComponent(n)),i.changeDetectorRef.detectChanges(),this.notifications.push(i.instance),t.appendTo&&this.applyAbsolutePosition(t.appendTo),this.applyPosition(),this.applyContainerWrap(),{afterHide:i.instance.close,hide:function(){return i.instance.hide(o)},notification:i,content:o||null}},r.prototype.hide=function(t){var e=t.instance,i=this.notifications.indexOf(e);this.notifications.splice(i,1),e.closeClickSubscription&&e.closeClickSubscription.unsubscribe(),e.templateRef=null,e.templateString=null,t.destroy()},r.prototype.applyContainerWrap=function(){var t="right"===this.position.horizontal?"wrap-reverse":"wrap";this.renderer.setStyle(this.group.nativeElement,"flex-wrap",t)},r.prototype.applySettings=function(t,e){var i=this,n=t.instance,o=e.content,a=e.animation||null;n.closeClickSubscription=n.close.subscribe(function(){return i.hide(t)}),"string"==typeof o&&(n.templateString=o),o instanceof s.TemplateRef&&(n.templateRef=o),n.animation=a;var r=e.type;r&&void 0===r.style&&(r.style="none"),r&&void 0===r.icon&&(r.icon=!0),n.type=r,n.closeTitle=e.closeTitle,e.cssClass&&(n.cssClass=e.cssClass),n.closable=e.closable,n.hideAfter=e.hideAfter,n.width=e.width,n.height=e.height},r.prototype.applyAbsolutePosition=function(t){var e=t.element.nativeElement,i=this.element.nativeElement.children[0];"static"===window.getComputedStyle(e).position&&this.renderer.setStyle(e,"position","relative"),this.renderer.setStyle(i,"position","absolute")},r.prototype.applyPosition=function(){var e=this.element.nativeElement.children[0],t=e.getBoundingClientRect().width/2,i=this.setContainerPosition(this.position,t);Object.keys(i).forEach(function(t){e.style[t]=i[t]})},r.prototype.setContainerPosition=function(t,e){var i={horizontal:{left:{left:0,alignItems:"flex-start"},right:{right:0,alignItems:"flex-start"},center:{left:"50%",marginLeft:-e+"px",alignItems:"center"}},vertical:{top:{top:0},bottom:{bottom:0}}},n=i.horizontal[t.horizontal],o=i.vertical[t.vertical];return Object.assign({},n,o)},n.__decorate([s.ViewChild("container",{read:s.ViewContainerRef,static:!0}),n.__metadata("design:type",s.ViewContainerRef)],r.prototype,"container",void 0),n.__decorate([s.ViewChild("group",{static:!0}),n.__metadata("design:type",s.ElementRef)],r.prototype,"group",void 0),n.__decorate([s.Input(),n.__metadata("design:type",String)],r.prototype,"id",void 0),n.__decorate([s.Component({selector:"kendo-notification-container",template:'\n    <div #group class="k-notification-group">\n        <ng-container #container></ng-container>\n    </div>\n  '}),n.__metadata("design:paramtypes",[s.ElementRef,s.Renderer2,s.ComponentFactoryResolver])],r));function r(t,e,i){this.element=t,this.renderer=e,this.resolver=i,this.id="",this.notifications=[]}e.NotificationContainerComponent=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(0),c=i(3);e.NOTIFICATION_CONTAINER=new o.InjectionToken("Notification Container");var a=(r.prototype.show=function(t){if(!t)throw new Error("NotificationSettings settings are required");var e,i=this.findGroupContainer(t),n=t.position||this.position,o=n.horizontal+" "+n.vertical,a=this.notificationContainers.find(function(t){return i.nativeElement.contains(t.element.nativeElement)&&t.id===o});if(!a){a=(e=this.resolver.resolveComponentFactory(c.NotificationContainerComponent).create(this.injector)).instance,this.appRef.attachView(e.hostView);var r=e.location.nativeElement,s=this.findGroupContainer(t);if(!s)throw new Error("\n                    View Container not found! Inject the NOTIFICATION_CONTAINER or define a specific ViewContainerRef via\n                    the appendTo option. See http://www.telerik.com/kendo-angular-ui/components/notification/api/NOTIFICATION_CONTAINER/\n                    for more details.\n                ");s.nativeElement.appendChild(r),this.notificationContainers.push(a)}return t.position=n,a.addNotification(t)},Object.defineProperty(r.prototype,"appRef",{get:function(){return this.applicationRef||(this.applicationRef=this.injector.get(o.ApplicationRef)),this.applicationRef},enumerable:!0,configurable:!0}),r.prototype.findGroupContainer=function(t){var e;return t.appendTo?t.appendTo.element:this.container?this.container:(e=this.appRef.components&&this.appRef.components[0])?e.location:null},n.__decorate([o.Injectable(),n.__param(2,o.Inject(e.NOTIFICATION_CONTAINER)),n.__param(2,o.Optional()),n.__metadata("design:paramtypes",[o.ComponentFactoryResolver,o.Injector,o.ElementRef])],r));function r(t,e,i){this.resolver=t,this.injector=e,this.container=i,this.notificationContainers=[],this.position={horizontal:"right",vertical:"top"}}e.NotificationService=a},function(t,e){t.exports=p},function(t,e){t.exports=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o,a=i(1),r=i(0),s=i(5),c=(n=s.ComponentMessages,a.__extends(l,n),o=l,a.__decorate([r.Input(),a.__metadata("design:type",String)],l.prototype,"closeTitle",void 0),o=a.__decorate([r.Directive({providers:[{provide:s.ComponentMessages,useExisting:r.forwardRef(function(){return o})}],selector:"[kendoNotificationLocalizedMessages]"}),a.__metadata("design:paramtypes",[s.LocalizationService])],l));function l(t){var e=n.call(this)||this;return e.service=t,e}e.LocalizedMessagesDirective=c},function(t,e){t.exports=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(0),a=i(8),r=i(4),s=i(2),c=i(3),l=i(7),p=n.__decorate([o.NgModule({declarations:[s.NotificationComponent,c.NotificationContainerComponent,l.LocalizedMessagesDirective],entryComponents:[s.NotificationComponent,c.NotificationContainerComponent],imports:[a.CommonModule],exports:[s.NotificationComponent,c.NotificationContainerComponent],providers:[r.NotificationService]})],function(){});e.NotificationModule=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(6);e.slideAnimation=function(t,e){return[n.style({overflow:"hidden",height:0}),n.animate(e+"ms ease-in",n.style({height:t+"px"}))]},e.slideCloseAnimation=function(t,e){return[n.style({height:t+"px"}),n.animate(e+"ms ease-in",n.style({overflow:"hidden",height:0}))]},e.fadeAnimation=function(t){return[n.style({opacity:0}),n.animate(t+"ms ease-in",n.style({opacity:1}))]},e.fadeCloseAnimation=function(t){return[n.style({opacity:1}),n.animate(t+"ms ease-in",n.style({opacity:0}))]}},function(t,e){t.exports=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(){this.hideAfter=5e3,this.position={horizontal:"right",vertical:"top"},this.animation={type:"fade",duration:500},this.closable=!1,this.type={style:"none",icon:!0}}e.NotificationSettings=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(12);e.NotificationSettings=n.NotificationSettings;var o=i(2);e.NotificationComponent=o.NotificationComponent;var a=i(4);e.NotificationService=a.NotificationService,e.NOTIFICATION_CONTAINER=a.NOTIFICATION_CONTAINER;var r=i(9);e.NotificationModule=r.NotificationModule,function(t){for(var e in t)s(e,t[e])}(e)}],n.c=o,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}}});